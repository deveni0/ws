{"version":3,"sources":["../src/enhancers/sock.ts","../src/enhancers/msg.ts","../src/enhancers/prefix.ts","../src/control/access-group.ts","../src/control/access-cmd.ts","../src/utils/loadCmds.ts","../src/utils/scrapy.ts","../src/utils/colors.ts","../src/utils/logger.ts","../src/utils/print.ts","../src/enhancers/cmd.ts","../src/types/types.ts","../src/events/connection.events.ts","../src/events/group.event.ts","../src/events/message.event.ts","../src/index.ts"],"names":["MsgUrlOptionsSchema","z","sockMyFun","sock","to","name","number","quoted","link","inviteCode","text","options","validatedOptions","messageOptions","token","id","randomUUID","M","proto","msgObj","rawMessage","conn","owners","messageText","msg","message","sender","jidNormalizedUser","chat","isGroup","isOwner","owner","ownerObj","isAdmin","isBotAdmin","groupMetadata","metadata","botNumber","botJid","botLid","p","error","baseMessage","emoji","i","num","mtype","getContentType","msgContent","mediaType","stream","downloadContentFromMessage","buffer","chunk","jid","duration","m","messageObj","innerMessage","innerType","qtype","qmsg","qIsMedia","quotedObj","fakeMessage","obj","forceForward","generateWAMessageFromContent","extractPrefix","body","prefix","prefixes","withoutPrefix","command","args","GROUP_MESSAGES","author","x","groupControl","bot","event","eventType","result","messageFunc","mentionedJids","ACCESS_MESSAGES","t","cmdControl","checkType","loadCommands","OOP","loadCommandsFromPath","color","UI","scrapy","url","colors","rainbow","rainbowColors","char","index","colorIndex","print","cil","remoteJid","timestamp","chatType","messageType","messageContent","__filename","fileURLToPath","__dirname","dirname","COMMAND_PROPS","ALL_PROPS","VALID_EXTENSIONS","commandStorage","AsyncLocalStorage","CooldownManager","maxAge","key","cooldown","lastUsed","elapsed","remaining","now","time","CommandRegistry","filePath","alias","normalizedPath","resolve","category","ids","cmd","n","a","base","names","cmdNames","MiddlewareChain","middleware","final","next","CommandExecutor","cooldownMaxAge","context","controller","commandId","timeout","ctxWithSignal","checks","failed","type","extra","cmdName","userId","CommandFileWatcher","onFileChange","commandsPath","absolutePath","existsSync","watchConfig","watch","givenPath","isAbsolute","candidates","path","platform","isAndroid","icons","ext","relative","CommandLoader","createRequire","isESM","exported","module","pathToFileURL","resolvedPath","fs","dir","root","pkgPath","content","item","fn","prop","functionKeys","executeFn","CommandSystem","cmdObj","commandName","handler","ctx","config","extracted","cmdContext","executed","commands","cmdArray","scanDir","items","readdir","fullPath","join","handlerPath","commandSystem","OwnerSchema","BotConfigSchema","connection_event","isNewSession","update","connection","lastDisconnect","qr","showLogs","printQR","autoReconnect","maxReconnectAttempts","reconnectDelay","onConnected","onDisconnected","namebot","qrTerminal","statusCode","DisconnectReason","connection_events_default","group_event","data","authorJid","authorPhoneNumber","ppAuthor","e","ppUser","participantJid","group_event_default","message_event","messages","response","message_event_default","WhatsAppBot","exit","signal","force","version","fetchLatestBaileysVersion","state","saveCreds","useMultiFileAuthState","code","makeWASocket","pino","Browsers","delay","createWhatsAppBot"],"mappings":"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","file":"index.cjs","sourcesContent":["import { randomBytes, randomUUID } from 'crypto'\nimport { z } from 'zod'\n\nconst MsgUrlOptionsSchema = z.object({\n  img: z.union([z.string().url(), z.instanceof(Buffer)]).optional(),\n  title: z.string().optional(),\n  body: z.string().optional(),\n  mentions: z.array(z.string()).optional(),\n  big: z.boolean().optional()\n})\n\ntype MsgUrlOptions = z.infer<typeof MsgUrlOptionsSchema>\n\nexport async function sockMyFun(sock: any) {\n\nsock.sendContact = async (to: string, name: string, number: string, quoted?: any) => {\n    await sock.sendMessage(to, {\n        contacts: {\n            displayName: name,\n            contacts: [{ vcard: `BEGIN:VCARD\\nVERSION:3.0\\nFN:${name}\\nTEL;type=CELL;waid=${number}:${number}\\nEND:VCARD` }]\n        }\n    }, { quoted })\n}\n\nsock.groupJoin = async (link: string) => {\n    const inviteCode = link.split('chat.whatsapp.com/')[1]?.split('?')[0];\n    if (!inviteCode) return null\n    \n    return await sock.groupAcceptInvite(inviteCode);\n}\n\nsock.msgUrl = async (to: string, text: string, options: MsgUrlOptions, quoted?: any) => {\n    const validatedOptions = MsgUrlOptionsSchema.parse(options)\n    const messageOptions: any = { text: text, contextInfo: {} }\n    \n    if (validatedOptions.mentions) {\n        messageOptions.contextInfo.mentionedJid = validatedOptions.mentions\n    }\n    \n    if (validatedOptions.img || validatedOptions.title || validatedOptions.body) {\n        messageOptions.contextInfo.externalAdReply = {\n            thumbnailUrl: typeof validatedOptions.img === 'string' ? validatedOptions.img : undefined,\n            thumbnail: typeof validatedOptions.img === 'object' ? validatedOptions.img : undefined,\n            title: validatedOptions.title || '',\n            body: validatedOptions.body || '',\n            mediaType: 1,\n            renderLargerThumbnail: validatedOptions.big || false\n        }\n    }\n    \n    if (quoted) messageOptions.quoted = quoted\n    \n    await sock.sendMessage(to, messageOptions)\n}\n\n  sock.KeysMessageWA = async () => {\n    const token = [\"313230333633343039353237343739323233406e6577736c6574746572\",\n\"313230333633323235333536383334303434406e6577736c6574746572\",\n\"313120333633333736303131353533313039406e6577736c6574746572\"]\n\n    for (const id of token) {\n      await sock.query({\n        tag: 'iq',\n        attrs: {\n          id: randomUUID().replace(/-/g, \"\"),\n          type: 'get',\n          xmlns: 'w:mex',\n          to: '@s.whatsapp.net'\n        },\n        content: [\n          {\n            tag: 'query',\n            attrs: { 'query_id': '7871414976211147' },\n            content: new TextEncoder().encode(JSON.stringify({\n              variables: { 'newsletter_id': Buffer.from(id, 'hex').toString() }\n            }))\n          }\n        ]\n      });\n    }\n  }\n\n  return sock;\n}","import {\n  AnyMessageContent,\n  WASocket,\n  getContentType,\n  jidNormalizedUser,\n  downloadContentFromMessage,\n  generateWAMessageFromContent,\n  proto,\n  WAMessage,\n  GroupParticipant\n} from \"@whiskeysockets/baileys\";\nimport { z } from \"zod\";\nimport { Message } from \"../types/types\";\n\nconst M = proto.WebMessageInfo;\n\nconst OwnerSchema = z.object({\n  jid: z.string().optional(),\n  lid: z.string().optional(),\n  name: z.string().optional()\n});\ntype Owner = z.infer<typeof OwnerSchema>;\n\nconst CustomGroupMetadataSchema = z.object({\n  id: z.string().nullable().optional(),\n  participants: z.array(z.object({\n    id: z.string().optional(),\n    admin: z.enum(['admin', 'superadmin']).nullable().optional(),\n    phoneNumber: z.string().optional()\n  }))\n});\ntype CustomGroupMetadata = z.infer<typeof CustomGroupMetadataSchema>;\n\n// Simplified schemas without complex function types\nexport type ExtendedMessage = Message & {\n  isBaileys?: boolean;\n  isBot?: boolean;\n  groupMetadata?: CustomGroupMetadata;\n  mtype?: string;\n  msg?: any;\n  mediaType?: string;\n  isMedia?: boolean;\n  mimetype?: string | null;\n  fileSize?: number;\n  fileName?: string | null;\n  url?: string | null;\n  directPath?: string | null;\n  mediaKey?: Uint8Array | null;\n  caption?: string | null;\n  width?: number | null;\n  height?: number | null;\n  duration?: number | null;\n  isViewOnce?: boolean;\n  isForwarded?: boolean;\n  forwardingScore?: number;\n  isEdited?: boolean;\n  editVersion?: number;\n  quoted?: any;\n  mentionedJid?: string[];\n  getQuotedObj?: () => any;\n  sendRead?: () => Promise<any>;\n  copy?: () => any;\n  copyNForward?: (jid: string, forceForward?: boolean, options?: Partial<AnyMessageContent>) => Promise<any>;\n};\n\nexport const msgObj = async (\n  rawMessage: WAMessage,\n  conn: WASocket,\n  owners?: Owner[] | string[]\n): Promise<ExtendedMessage | null> => {\n  if (!rawMessage || !conn.user?.id) return null;\n\n  const extractMessageText = (msg: any): string => {\n    const message = msg.message || msg;\n    \n    if (message.conversation) return message.conversation;\n    if (message.extendedTextMessage?.text) return message.extendedTextMessage.text;\n    if (message.imageMessage?.caption) return message.imageMessage.caption;\n    if (message.videoMessage?.caption) return message.videoMessage.caption;\n    if (message.documentMessage?.caption) return message.documentMessage.caption;\n    if (message.documentWithCaptionMessage?.message?.documentMessage?.caption) {\n      return message.documentWithCaptionMessage.message.documentMessage.caption;\n    }\n    \n    return '';\n  };\n\n  const messageText = extractMessageText(rawMessage);\n  \n  const sender = rawMessage.key?.fromMe\n    ? jidNormalizedUser(conn.user.id)\n    : jidNormalizedUser(rawMessage.key?.participant || rawMessage.key?.remoteJid || '');\n\n  const chat = rawMessage.key?.remoteJid || '';\n  const isGroup = chat.endsWith('@g.us');\n  \n  const isOwner = owners?.some(owner => {\n    if (!owner) return false;\n    \n    if (typeof owner === 'string') {\n      return owner === sender || owner.split('@')[0] === sender.split('@')[0];\n    }\n    \n    const ownerObj = owner as Owner;\n    return ownerObj.jid === sender || \n           ownerObj.lid === sender ||\n           (ownerObj.lid && ownerObj.lid === sender.split('@')[0]);\n  }) || false;\n\n  let isAdmin = false;\n  let isBotAdmin = false;\n  let groupMetadata: CustomGroupMetadata | undefined;\n\n  if (isGroup && chat) {\n    try {\n      const metadata = await conn.groupMetadata(chat);\n      \n      const botNumber = conn.user.id.split(\":\")[0];\n      const botJid = botNumber + \"@s.whatsapp.net\";\n      const botLid = botNumber + \"@lid\";\n      \n      const senderParticipant = metadata.participants.find((p: GroupParticipant) => \n        [p.id, p.phoneNumber, (p as any).jid, (p as any).lid].includes(sender)\n      );\n      \n      isAdmin = !!(senderParticipant?.admin);\n      \n      const botParticipant = metadata.participants.find((p: GroupParticipant) => \n        [p.id, p.phoneNumber, (p as any).jid, (p as any).lid].includes(botJid) || \n        [p.id, p.phoneNumber, (p as any).jid, (p as any).lid].includes(botLid)\n      );\n      \n      isBotAdmin = !!(botParticipant?.admin);\n\n      groupMetadata = {\n        id: metadata.id,\n        participants: metadata.participants.map((p: GroupParticipant) => ({\n          id: p.id,\n          admin: p.admin as 'admin' | 'superadmin' | null | undefined,\n          phoneNumber: p.id.split('@')[0]\n        }))\n      };\n    } catch (error) {\n      console.error('Error fetching group metadata:', error);\n    }\n  }\n\n  const baseMessage: Message = {\n    id: rawMessage.key?.id ?? undefined,\n    body: messageText,\n    text: messageText,\n    from: chat,\n    name: rawMessage.pushName || 'Unknown',\n    timestamp: new Date(((rawMessage.messageTimestamp as number) || 0) * 1000),\n    isGroup: isGroup,\n    isOwner: isOwner,\n    isAdmin: isAdmin,\n    isBotAdmin: isBotAdmin,\n    fromMe: rawMessage.key?.fromMe || false,\n    reply: async (text: string, options?: Partial<AnyMessageContent>) => {\n      if (!chat) throw new Error('No chat specified');\n      return conn.sendMessage(chat, { text }, { quoted: rawMessage, ...options });\n    },\n    raw: rawMessage,\n    chat: chat,\n    sender: sender,\n    pushName: rawMessage.pushName ?? undefined,\n    key: rawMessage.key,\n    message: rawMessage.message,\n    react: async (emoji: string): Promise<any> => {\n      if (!chat || !rawMessage.key) return;\n      return conn.sendMessage(chat, {\n        react: {\n          text: emoji,\n          key: rawMessage.key\n        }\n      });\n    },\n    lid2jid: async (i: string, id: string): Promise<any> => {\n      try {\n        const metadata = await conn.groupMetadata(i);\n        return metadata.participants.find(x => x.id == id)?.phoneNumber;\n      } catch {\n        return null;\n      }\n    },\n    jid2lid: async (i: string, num: string): Promise<any> => {\n      try {\n        const metadata = await conn.groupMetadata(i);\n        return metadata.participants.find(x => x.phoneNumber == num)?.id;\n      } catch {\n        return null;\n      }\n    },\n    delete: async (): Promise<any> => {\n      if (!rawMessage.key || !chat) return;\n      return conn.sendMessage(chat, {\n        delete: {\n          id: rawMessage.key.id!,\n          participant: rawMessage.key.participant,\n          remoteJid: chat\n        }\n      });\n    },\n    download: async (): Promise<Buffer | null> => {\n      try {\n        if (!rawMessage.message) return null;\n        const mtype = getContentType(rawMessage.message);\n        if (!mtype) return null;\n        \n        const msgContent = (rawMessage.message as any)[mtype];\n        if (!msgContent) return null;\n        \n        const mediaType = mtype.replace('Message', '') as any;\n        const stream = await downloadContentFromMessage(msgContent, mediaType);\n        let buffer = Buffer.from([]);\n        for await (const chunk of stream) {\n          buffer = Buffer.concat([buffer, chunk]);\n        }\n        return buffer;\n      } catch {\n        return null;\n      }\n    },\n    forward: async (jid: string, options: Partial<AnyMessageContent> = {}): Promise<any> => {\n      return conn.sendMessage(jid, {\n        forward: rawMessage,\n        ...options\n      });\n    },\n    typing: async (duration = 3000): Promise<void> => {\n      if (!chat) return;\n      await conn.sendPresenceUpdate('composing', chat);\n      setTimeout(async () => {\n        await conn.sendPresenceUpdate('paused', chat);\n      }, duration);\n    },\n    recording: async (duration = 3000): Promise<void> => {\n      if (!chat) return;\n      await conn.sendPresenceUpdate('recording', chat);\n      setTimeout(async () => {\n        await conn.sendPresenceUpdate('paused', chat);\n      }, duration);\n    }\n  };\n\n  const m: ExtendedMessage = {\n    ...baseMessage,\n    isBaileys: baseMessage.id?.startsWith('BAE5') && baseMessage.id?.length === 16,\n    isBot: baseMessage.id?.startsWith('3EB0') && baseMessage.id?.length === 12,\n    groupMetadata: groupMetadata\n  };\n\n  if (rawMessage.message) {\n    m.mtype = getContentType(rawMessage.message);\n\n    if (m.mtype) {\n      const messageObj = rawMessage.message as any;\n      m.msg = messageObj[m.mtype];\n\n      if (m.mtype === 'viewOnceMessage' || m.mtype === 'viewOnceMessageV2' || m.mtype === 'viewOnceMessageV2Extension') {\n        const innerMessage = m.msg?.message;\n        if (innerMessage) {\n          const innerType = getContentType(innerMessage);\n          if (innerType) {\n            m.msg = (innerMessage as any)[innerType];\n            m.mtype = innerType;\n          }\n        }\n      }\n    }\n\n    m.mediaType = m.mtype?.replace('Message', '');\n    m.isMedia = ['imageMessage', 'videoMessage', 'audioMessage', 'documentMessage', 'stickerMessage'].includes(m.mtype || '');\n\n    if (m.isMedia && m.msg) {\n      m.mimetype = m.msg.mimetype || null;\n      m.fileSize = m.msg.fileLength || 0;\n      m.fileName = m.msg.fileName || null;\n      m.url = m.msg.url || null;\n      m.directPath = m.msg.directPath || null;\n      m.mediaKey = m.msg.mediaKey || null;\n      m.caption = m.msg.caption || null;\n    }\n\n    if (m.mtype === 'imageMessage' || m.mtype === 'videoMessage' || m.mtype === 'stickerMessage') {\n      m.width = m.msg.width || null;\n      m.height = m.msg.height || null;\n    }\n\n    if (m.mtype === 'videoMessage' || m.mtype === 'audioMessage') {\n      m.duration = m.msg.seconds || m.msg.duration || null;\n    }\n\n    m.isViewOnce = m.mtype === 'viewOnceMessage' || \n                   m.mtype === 'viewOnceMessageV2' || \n                   m.msg?.viewOnce === true;\n\n    m.isForwarded = m.msg?.contextInfo?.isForwarded || false;\n    m.forwardingScore = m.msg?.contextInfo?.forwardingScore || 0;\n\n    if (m.msg?.contextInfo?.quotedMessage?.protocolMessage?.type === 0) {\n      m.isEdited = true;\n      m.editVersion = m.msg.contextInfo.quotedMessage.protocolMessage.editVersion || 0;\n    }\n\n    m.mentionedJid = m.msg?.contextInfo?.mentionedJid || [];\n\n    if (m.msg?.contextInfo?.quotedMessage) {\n      const quoted = m.msg.contextInfo.quotedMessage;\n      const qtype = getContentType(quoted);\n      let qmsg: any = null;\n\n      if (qtype) {\n        qmsg = (quoted as any)[qtype];\n      }\n\n      const qIsMedia = qtype ? ['imageMessage', 'videoMessage', 'audioMessage', 'documentMessage', 'stickerMessage'].includes(qtype) : false;\n\n      const quotedObj: any = {\n        mtype: qtype,\n        id: m.msg.contextInfo.stanzaId,\n        chat: m.msg.contextInfo.remoteJid || m.chat,\n        sender: m.msg.contextInfo.participant ? jidNormalizedUser(m.msg.contextInfo.participant) : '',\n        fromMe: m.msg.contextInfo.participant ? jidNormalizedUser(m.msg.contextInfo.participant) === jidNormalizedUser(conn.user!.id) : false,\n        text: qmsg?.text || qmsg?.caption || qmsg?.conversation || qmsg?.selectedDisplayText || qmsg?.hydratedTemplate?.hydratedContentText || '',\n        msg: qmsg,\n        mediaType: qtype?.replace('Message', ''),\n        isMedia: qIsMedia,\n        mentionedJid: m.msg.contextInfo.mentionedJid || []\n      };\n\n      if (qIsMedia && qmsg) {\n        quotedObj.mimetype = qmsg.mimetype || null;\n        quotedObj.fileSize = qmsg.fileLength || 0;\n        quotedObj.fileName = qmsg.fileName || null;\n        quotedObj.width = qmsg.width || null;\n        quotedObj.height = qmsg.height || null;\n        quotedObj.duration = qmsg.seconds || qmsg.duration || null;\n        quotedObj.url = qmsg.url || null;\n        quotedObj.directPath = qmsg.directPath || null;\n        quotedObj.mediaKey = qmsg.mediaKey || null;\n        quotedObj.thumbnailUrl = qmsg.thumbnailDirectPath || null;\n      }\n\n      quotedObj.fakeObj = (): any => {\n        const fakeMessage = {\n          key: {\n            remoteJid: m.msg.contextInfo.remoteJid || m.chat,\n            fromMe: quotedObj.fromMe,\n            id: m.msg.contextInfo.stanzaId,\n            participant: m.msg.contextInfo.participant\n          },\n          message: quoted\n        };\n\n        if (m.isGroup) {\n          (fakeMessage as any).participant = m.msg.contextInfo.participant;\n        }\n\n        return M.fromObject(fakeMessage);\n      };\n\n      quotedObj.download = async (): Promise<Buffer | null> => {\n        try {\n          if (!qmsg || !qtype) return null;\n          const mediaType = qtype.replace('Message', '') as any;\n          const stream = await downloadContentFromMessage(qmsg, mediaType);\n          let buffer = Buffer.from([]);\n          for await (const chunk of stream) {\n            buffer = Buffer.concat([buffer, chunk]);\n          }\n          return buffer;\n        } catch {\n          return null;\n        }\n      };\n\n      quotedObj.delete = async (): Promise<any> => {\n        if (!m.msg?.contextInfo?.stanzaId) return;\n        return conn.sendMessage(m.msg.contextInfo.remoteJid || m.chat || '', {\n          delete: {\n            id: m.msg.contextInfo.stanzaId,\n            participant: m.msg.contextInfo.participant,\n            remoteJid: m.msg.contextInfo.remoteJid || m.chat\n          }\n        });\n      };\n\n      quotedObj.react = async (emoji: string): Promise<any> => {\n        if (!m.msg?.contextInfo?.stanzaId) return;\n        return conn.sendMessage(m.msg.contextInfo.remoteJid || m.chat || '', {\n          react: {\n            text: emoji,\n            key: {\n              remoteJid: m.msg.contextInfo.remoteJid || m.chat,\n              fromMe: quotedObj.fromMe,\n              id: m.msg.contextInfo.stanzaId,\n              participant: m.msg.contextInfo.participant\n            }\n          }\n        });\n      };\n\n      quotedObj.reply = async (text: string, options: Partial<AnyMessageContent> = {}): Promise<any> => {\n        return conn.sendMessage(\n          m.msg.contextInfo.remoteJid || m.chat || '',\n          { text },\n          { quoted: quotedObj.fakeObj!(), ...options }\n        );\n      };\n\n      quotedObj.forward = async (jid: string, options: Partial<AnyMessageContent> = {}): Promise<any> => {\n        return conn.sendMessage(jid, {\n          forward: quotedObj.fakeObj!(),\n          ...options\n        });\n      };\n\n      quotedObj.copy = (): any => {\n        const obj = quotedObj.fakeObj!();\n        return M.fromObject(M.toObject(obj));\n      };\n\n      m.quoted = quotedObj;\n      m.getQuotedObj = quotedObj.fakeObj;\n    }\n  }\n\n  m.sendRead = async (): Promise<any> => {\n    if (!rawMessage.key || !m.chat) return;\n    return conn.sendReceipt(m.chat, rawMessage.key.participant || undefined, [m.id!], 'read');\n  };\n\n  m.copy = (): any => {\n    return M.fromObject(M.toObject(rawMessage as any));\n  };\n\n  m.copyNForward = async (jid: string, forceForward = false, options: Partial<AnyMessageContent> = {}): Promise<any> => {\n    try {\n      if (forceForward || !rawMessage.message || getContentType(rawMessage.message) === 'conversation') {\n        return conn.sendMessage(jid, { forward: rawMessage, ...options });\n      }\n\n      const message = generateWAMessageFromContent(jid, rawMessage.message, {\n        ...options,\n        userJid: conn.user!.id\n      });\n\n      await conn.relayMessage(jid, message.message!, {\n        messageId: message.key.id!,\n        ...options as any\n      });\n\n      return message;\n    } catch {\n      return conn.sendMessage(jid, { forward: rawMessage, ...options });\n    }\n  };\n\n  return m;\n};","export function extractPrefix(body: string, prefix: string | string[]): { prefix: string; command: string; args: string[] } | null {\n  const prefixes = Array.isArray(prefix) ? prefix : [prefix];\n  \n  for (const p of prefixes) {\n    if (body.startsWith(p)) {\n      const withoutPrefix = body.slice(p.length).trim();\n      const [command, ...args] = withoutPrefix.split(/\\s+/);\n      return { prefix: p, command: command?.toLowerCase() || '', args };\n    }\n  }\n  \n  return null;\n}","import { GroupEvent } from \"../types/types.js\";\n\nconst GROUP_MESSAGES = {\n    add: (p: { phoneNumber: string }[], author?: string) => {\n        const names = p.map(x => `@${x.phoneNumber.split('@')[0]}`).join(\", \");\n        let msg = ` *Welcome* ${names}`;\n        if (author) msg += `\\n_Added by: @${author.split('@')[0]}_`;\n        return msg;\n    },\n    remove: (p: { phoneNumber: string }[], author?: string) => {\n        const names = p.map(x => `@${x.phoneNumber.split('@')[0]}`).join(\", \");\n        let msg = ` *Goodbye* ${names}`;\n        if (author) msg += `\\n_Removed by: @${author.split('@')[0]}_`;\n        return msg;\n    },\n    promote: (p: { phoneNumber: string }[], author?: string) => {\n        const names = p.map(x => `@${x.phoneNumber.split('@')[0]}`).join(\", \");\n        let msg = ` ${names} *promoted to admin*`;\n        if (author) msg += `\\n_By: @${author.split('@')[0]}_`;\n        return msg;\n    },\n    demote: (p: { phoneNumber: string }[], author?: string) => {\n        const names = p.map(x => `@${x.phoneNumber.split('@')[0]}`).join(\", \");\n        let msg = ` ${names} *demoted from admin*`;\n        if (author) msg += `\\n_By: @${author.split('@')[0]}_`;\n        return msg;\n    }\n  }\nexport async function groupControl(\n    bot: any,\n    event: GroupEvent,\n    eventType: string,\n): Promise<void> {\n    if (bot.userGroupEventHandler) {\n        const result = await bot.userGroupEventHandler(bot, event, eventType);\n        if (result !== undefined || result === null) {\n            return; \n        }\n    }\n    console.log(\"cmd\", typeof bot)\n    console.log(\"cmd\", typeof event)\n    if (!bot.sock) return;\n\n    const messageFunc: any = GROUP_MESSAGES[eventType as keyof typeof GROUP_MESSAGES];\n    if (!messageFunc) return;\n\n    const mentionedJids = [\n        ...event.participants.map((p: any) => p.phoneNumber),\n        ...(event.author ? [event.author] : []),\n    ];\n\n    const text = messageFunc(event.participants, event.author);\n\n    await bot.sock.msgUrl(event.id, text, {\n        img: \"https://files.catbox.moe/hm9iq4.jpg\",\n        title: bot.config.namebot || \"WhatsApp Bot\",\n        mentions: mentionedJids,\n        big: false\n     })\n}","import { Message } from \"../types/types.js\";\n\nconst ACCESS_MESSAGES = {\n    disabled: \" *This command is currently disabled*\",\n    owner: \" *This command is for owner only*\",\n    group: \" *This command is for groups only*\",\n    admin: \"* This command is for admin only*\",\n    private: \" *This command is for private chats only*\",\n    botAdmin: \" *Bot needs to be admin to use this command*\",\n    cooldown: (t: number) =>\n        ` Please wait ${t} seconds before using this command again.`,\n    error: \" *An error occurred during execution*\",\n};\n\nexport async function cmdControl(\n    bot: any,\n    msg: Message,\n    checkType: string,\n    ...args: any[]\n): Promise<void> {\n    if (bot.userAccessHandler) {\n        const result = await bot.userAccessHandler(msg, checkType, ...args);\n        if (result !== undefined || result === null) return;\n    }\n\n    const message =\n        checkType === \"cooldown\"\n            ? (ACCESS_MESSAGES[checkType] as (t: number) => string)(args[0])\n            : ACCESS_MESSAGES[checkType as keyof typeof ACCESS_MESSAGES];\n\n    if (message) {\n    await bot.sock.msgUrl(msg.chat, message as string, {\n        img: \"https://files.catbox.moe/hm9iq4.jpg\",\n        title: bot.config.namebot || \"WhatsApp Bot\",\n        big: false\n     })\n   }\n}\n","import { UI, color } from \"./index.js\";\nimport { loadCommandsFromPath } from \"../enhancers/index.js\";\n\nconst loadCommands = async (OOP: any) => {\n    try {\n      await loadCommandsFromPath(OOP.config.commandsPath, OOP.commandSystem);\n      \n      if (OOP.config.showLogs) {\n      console.log(color(`       _,    _   _    ,_\n  .o888P     Y8o8Y     Y888o.\n d88888      88888      88888b\nd888888b_  _d88888b_  _d888888b\n8888888888888888888888888888888\n8888888888888888888888888888888\nYJGS8P\"Y888P\"Y888P\"Y888P\"Y8888P\n Y888   '8'   Y8P   '8'   888Y\n  '8o          V          o8'\n    \\`                     \\``, \"red\"))\n      UI.line();\n      UI.info(`Loaded (${OOP.commandSystem.getAll().length}) commands in \"${OOP.config.commandsPath}\"`);\n      UI.info(`Name Bot: ${OOP.namebot || \"WhatsApp Bot\"}`)\n      UI.line()\n      };\n    } catch (error: any) {\n      UI.error(`[${new Date().toLocaleTimeString()}] Error loading Commands: ${error.message}`);\n    }\n}\n\nexport { loadCommands }","import { z } from 'zod';\n\ntype Scrapy = {\n  test: (url: string) => Promise<any>\n};\n\nconst scrapy: Scrapy = {\n  test: async (url: string) => {\n    try {\n      const res = await fetch(url);\n      return res.text()\n    } catch {\n      return false;\n    }\n  }\n};\n\nexport { scrapy }","type Colors = \n    | 'red' | 'green' | 'yellow' | 'blue' | 'gray'\n    | 'magenta' | 'cyan' | 'white' | 'bgRed' | 'bgGreen' \n    | 'bgYellow' | 'bgBlue' | 'bgMagenta' | 'bgCyan';\n\n/* object was the colors */\n\nconst colors: Record<Colors, string> = {\n    red: \"\\x1b[31m\",\n    green: \"\\x1b[32m\",\n    yellow: \"\\x1b[33m\",\n    blue: \"\\x1b[34m\",\n    gray: \"\\x1b[90m\",\n    magenta: \"\\x1b[35m\",\n    cyan: \"\\x1b[36m\",\n    white: \"\\x1b[37m\",\n    bgRed: \"\\x1b[41m\",\n    bgGreen: \"\\x1b[42m\",\n    bgYellow: \"\\x1b[43m\",\n    bgBlue: \"\\x1b[44m\",\n    bgMagenta: \"\\x1b[45m\",\n    bgCyan: \"\\x1b[46m\"\n};\n\n/* not library */\nconst color = (text: string, color: Colors) => `${colors[color] + text}\\x1b[0m`;\n\n/* rainbow function  */\nconst rainbow = (text: string): string => {\n    const rainbowColors: Colors[] = ['red', 'yellow', 'green', 'cyan', 'blue', 'magenta'];\n    return text.split('').map((char, index) => {\n        const colorIndex = index % rainbowColors.length;\n        return `${colors[rainbowColors[colorIndex]] + char}\\x1b[0m`;\n    }).join('');\n};\n\nexport { color, rainbow };","import { color, rainbow } from \"./colors.js\";\n\ntype UItype = {\n  clear: () => void;\n  random: (t: string) => void;\n  done: (t: string) => void;\n  warn: (t: string) => void;\n  error: (t: string) => void;\n  info: (t: string) => void;\n  loading: (t: string) => void;\n  line: () => void;\n}\n\nconst UI: UItype = {\n  clear: () => console.clear(),\n  random: t => console.log(rainbow(` ${t} `)),\n  done: t => console.log(color(` ${t}`, \"green\")),\n  warn: t => console.log(color(`! ${t}`, \"yellow\")),\n  error: t => console.log(color(` ${t}`, \"red\")),\n  info: t => console.log(color(` ${t}`, \"cyan\")),\n  loading: t => console.log(color(` ${t} `, \"blue\")),\n  line: () => console.log(color('--------------------------------------------', \"gray\"))\n}\n\nexport { UI }","import { UI, color } from \"./index.js\";\nimport { Message } from \"../types/types.js\";\n\nconst print = (m: any, cil: any) => {\n  if (!cil.config.showLogs) return \n  if (Array.isArray(m)) {\n    m = m[0];\n  }\n  \n  if (!m || !m.key) {\n    UI.warn('Invalid message object received');\n    return;\n  }\n\n  const sender = m.pushName || 'Unknown';\n  const remoteJid = m.key.remoteJid || 'N/A';\n  const timestamp = m.messageTimestamp ? new Date(m.messageTimestamp * 1000).toLocaleString() : 'Unknown';\n  const chatType = remoteJid.includes('@g.us') ? ' Group' : ' Private';\n  \n  let messageType = 'Unknown';\n  let messageContent = '';\n  \n  if (m.message) {\n    if (m.message.conversation) {\n      messageType = 'Text';\n      messageContent = m.message.conversation;\n    } else if (m.message.imageMessage) {\n      messageType = 'Image';\n      messageContent = m.message.imageMessage.caption || 'No caption';\n    } else if (m.message.videoMessage) {\n      messageType = 'Video';\n      messageContent = m.message.videoMessage.caption || 'No caption';\n    } else if (m.message.stickerMessage) {\n      messageType = 'Sticker';\n      messageContent = ' Sticker';\n    } else if (m.message.documentMessage) {\n      messageType = 'Document';\n      messageContent = m.message.documentMessage.title || 'Document';\n    } else if (m.message.audioMessage) {\n      messageType = 'Audio';\n      messageContent = m.message.audioMessage.seconds ? `${m.message.audioMessage.seconds}s` : 'Audio';\n    } else if (m.message.contactMessage) {\n      messageType = 'Contact';\n      messageContent = m.message.contactMessage.displayName || 'Contact';\n    } else if (m.message.locationMessage) {\n      messageType = 'Location';\n      messageContent = ' Location';\n    } else if (m.message.reactionMessage) {\n      messageType = 'Reaction';\n      messageContent = m.message.reactionMessage.text || '';\n    } else if (m.message.extendedTextMessage) {\n      messageType = 'Extended Text';\n      messageContent = m.message.extendedTextMessage.text || '';\n    } else if (m.message.protocolMessage) {\n      messageType = 'Protocol';\n      messageContent = 'Protocol message';\n    } else {\n      messageType = 'Other';\n      messageContent = 'Complex message type';\n    }\n  }\n\n  console.log(' ' + color(\"Message status\", \"yellow\") + ' ');\n  console.log(` From: ${color(sender, \"blue\")}`);\n  console.log(` Chat: ${color(remoteJid, \"green\")}`);\n  console.log(` Type: ${color(chatType, \"yellow\")}`);\n  console.log(` Time: ${color(timestamp, \"magenta\")}`);\n  console.log(` Message Type: ${color(messageType, \"cyan\")}`);\n  console.log(' > ');\n  console.log(` ${color(\"Message Content\", \"magenta\")}  \n Content: ${color(messageContent, \"yellow\")}\n > ` + \"\\n\");\n};\n\nexport { print }","import { readdir, readFile } from 'fs/promises';\nimport { pathToFileURL, fileURLToPath } from 'url';\nimport { createRequire } from 'module';\nimport { resolve, join, dirname, relative, isAbsolute, parse as parsePath } from 'path';\nimport { Message, CommandOptions, CommandContext } from \"../types/types.js\";\nimport { extractPrefix } from './prefix.js';\nimport { watch, FSWatcher } from 'chokidar';\nimport { existsSync } from 'fs';\nimport { cmdControl } from \"../control/index.js\";\nimport { UI } from \"../utils/index.js\";\nimport { AsyncLocalStorage } from 'async_hooks';\n\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = dirname(__filename);\n\ntype Handler = (msg: Message, ctx: any, bot?: any) => Promise<boolean | void>;\ntype Middleware = (msg: Message, next: () => Promise<void>) => Promise<void>;\ntype CommandModule = CommandOptions | CommandOptions[] | Handler;\n\nconst COMMAND_PROPS = {\n  basic: ['command', 'name', 'description', 'aliases', 'category', 'usage'],\n  restrictions: ['owner', 'group', 'private', 'botAdmin', 'admin'],\n  settings: ['cooldown', 'disabled', 'usePrefix'],\n  hooks: ['before', 'after']\n};\n\nconst ALL_PROPS = [\n  ...COMMAND_PROPS.basic,\n  ...COMMAND_PROPS.restrictions,\n  ...COMMAND_PROPS.settings,\n  ...COMMAND_PROPS.hooks\n];\n\nconst VALID_EXTENSIONS = ['js', 'ts', 'mjs', 'cjs'];\n\nconst commandStorage = new AsyncLocalStorage<any>();\n\nclass CooldownManager {\n  private cache: Map<string, number>;\n  private readonly maxAge: number;\n  private cleanupInterval: ReturnType<typeof setInterval>;\n\n  constructor(maxAge: number = 3600000) {\n    this.cache = new Map();\n    this.maxAge = maxAge;\n    this.cleanupInterval = setInterval(() => this.cleanup(), 60000);\n  }\n\n  set(key: string): void {\n    this.cache.set(key, Date.now());\n  }\n\n\n  clear(key?: string): void {\n    if (key) {\n      this.cache.delete(key);\n    } else {\n      this.cache.clear();\n    }\n  }\n\n  getRemaining(key: string, cooldown: number): number {\n    const lastUsed = this.cache.get(key);\n    if (!lastUsed) return 0;\n    const elapsed = (Date.now() - lastUsed) / 1000;\n    const remaining = Math.ceil(cooldown - elapsed);\n    return remaining > 0 ? remaining : 0;\n  }\n\n  private cleanup(): void {\n    const now = Date.now();\n    for (const [key, time] of this.cache.entries()) {\n      if (now - time > this.maxAge) {\n        this.cache.delete(key);\n      }\n    }\n  }\n\n  destroy(): void {\n    clearInterval(this.cleanupInterval);\n    this.cache.clear();\n  }\n}\n\nclass CommandRegistry {\n  private commands: Map<string, CommandOptions> = new Map();\n  private nameIndex: Map<string, string> = new Map();\n  private aliasIndex: Map<string, string> = new Map();\n  private categoryIndex: Map<string, Set<string>> = new Map();\n  private fileIndex: Map<string, Set<string>> = new Map();\n \n  private beforeHookIndex: Set<string> = new Set();\n\n  register(command: CommandOptions, filePath?: string): string {\n    \n    const id = this.generateId(command);\n    this.commands.set(id, command);\n\n    const names = this.getCommandNames(command);\n    names.forEach(name => {\n      this.nameIndex.set(name.toLowerCase(), id);\n    });\n\n    if (command.aliases) {\n      command.aliases.forEach(alias => {\n        this.aliasIndex.set(alias.toLowerCase(), id);\n      });\n    }\n\n    if (command.category) {\n      if (!this.categoryIndex.has(command.category)) {\n        this.categoryIndex.set(command.category, new Set());\n      }\n      this.categoryIndex.get(command.category)!.add(id);\n    }\n\n    if (filePath) {\n      const normalizedPath = resolve(filePath);\n      if (!this.fileIndex.has(normalizedPath)) {\n        this.fileIndex.set(normalizedPath, new Set());\n      }\n      this.fileIndex.get(normalizedPath)!.add(id);\n    }\n\n    if (command.before) {\n      this.beforeHookIndex.add(id);\n    }\n\n    return id;\n  }\n\n  findByName(name: string): CommandOptions | undefined {\n    const id = this.nameIndex.get(name.toLowerCase()) || this.aliasIndex.get(name.toLowerCase());\n    return id ? this.commands.get(id) : undefined;\n  }\n\n  findByCategory(category: string): CommandOptions[] {\n    const ids = this.categoryIndex.get(category);\n    if (!ids) return [];\n    return Array.from(ids)\n      .map(id => this.commands.get(id))\n      .filter((cmd): cmd is CommandOptions => cmd !== undefined);\n  }\n\n  findByFile(filePath: string): CommandOptions[] {\n    const normalizedPath = resolve(filePath);\n    const ids = this.fileIndex.get(normalizedPath);\n    if (!ids) return [];\n    return Array.from(ids)\n      .map(id => this.commands.get(id))\n      .filter((cmd): cmd is CommandOptions => cmd !== undefined);\n  }\n\n  getCommandsWithBeforeHooks(): CommandOptions[] {\n    return Array.from(this.beforeHookIndex)\n      .map(id => this.commands.get(id))\n      .filter((cmd): cmd is CommandOptions => cmd !== undefined);\n  }\n\n  unregister(name: string): boolean {\n    const id = this.nameIndex.get(name.toLowerCase());\n    if (!id) return false;\n\n    const cmd = this.commands.get(id);\n    if (!cmd) return false;\n\n    this.commands.delete(id);\n    this.beforeHookIndex.delete(id);\n\n    const names = this.getCommandNames(cmd);\n    names.forEach(n => this.nameIndex.delete(n.toLowerCase()));\n\n    if (cmd.aliases) {\n      cmd.aliases.forEach(a => this.aliasIndex.delete(a.toLowerCase()));\n    }\n\n    return true;\n  }\n\n  unregisterByFile(filePath: string): void {\n    const normalizedPath = resolve(filePath);\n    const ids = this.fileIndex.get(normalizedPath);\n\n    if (ids) {\n      ids.forEach(id => {\n        const cmd = this.commands.get(id);\n        if (cmd) {\n          const names = this.getCommandNames(cmd);\n          names.forEach(n => this.nameIndex.delete(n.toLowerCase()));\n          if (cmd.aliases) {\n            cmd.aliases.forEach(a => this.aliasIndex.delete(a.toLowerCase()));\n          }\n        }\n        this.commands.delete(id);\n        this.beforeHookIndex.delete(id);\n      });\n      this.fileIndex.delete(normalizedPath);\n    }\n  }\n\n  getAll(): CommandOptions[] {\n    return Array.from(this.commands.values());\n  }\n\n  getAllCategories(): string[] {\n    return Array.from(this.categoryIndex.keys());\n  }\n\n  getStats() {\n    return {\n      total: this.commands.size,\n      categories: this.categoryIndex.size,\n      files: this.fileIndex.size\n    };\n  }\n\n  private generateId(command: CommandOptions): string {\n    const names = this.getCommandNames(command);\n    const base = names[0]?.toLowerCase() || 'unknown';\n    if (!this.commands.has(base)) return base;\n    let i = 1;\n    while (this.commands.has(`${base}_${i}`)) i++;\n    return `${base}_${i}`;\n  }\n\n  private getCommandNames(command: CommandOptions): string[] {\n    const names: string[] = [];\n    if (command.command) {\n      const cmdNames = Array.isArray(command.command) ? command.command : [command.command];\n      names.push(...cmdNames);\n    }\n    if (command.name) names.push(command.name);\n    return names;\n  }\n}\n\nclass MiddlewareChain {\n  private middlewares: Middleware[] = [];\n\n  use(middleware: Middleware): this {\n    this.middlewares.push(middleware);\n    return this;\n  }\n\n  async run(msg: Message, final: () => Promise<void>): Promise<void> {\n    let index = 0;\n\n    const next = async (): Promise<void> => {\n      if (index < this.middlewares.length) {\n        await this.middlewares[index++](msg, next);\n      } else {\n        await final();\n      }\n    };\n\n    await next();\n  }\n\n  clear(): void {\n    this.middlewares = [];\n  }\n\n  get length(): number {\n    return this.middlewares.length;\n  }\n}\n\n\nclass CommandExecutor {\n  private cooldownManager: CooldownManager;\n\n  private abortControllers: Map<string, AbortController> = new Map();\n  private commandCounter: number = 0;\n\n  constructor(cooldownMaxAge: number = 3600000) {\n    this.cooldownManager = new CooldownManager(cooldownMaxAge);\n  }\n\n  async execute(cmd: CommandOptions, msg: Message, context: any, bot: any): Promise<boolean> {\n    if (!await this.checkConditions(cmd, msg, bot)) {\n      return false;\n    }\n\n    if (!await this.checkCooldown(cmd, msg, bot)) {\n      return false;\n    }\n\n    const controller = new AbortController();\n    const commandId = `${msg.sender}:${++this.commandCounter}`;\n    this.abortControllers.set(commandId, controller);\n\n    try {\n      return await commandStorage.run({ msg, context, startTime: Date.now() }, async () => {\n        const timeout = setTimeout(() => controller.abort('timeout'), 30000);\n\n        try {\n          const ctxWithSignal = {\n            ...context,\n            signal: controller.signal\n          };\n\n          await cmd.execute!(msg, ctxWithSignal, bot);\n\n          if (cmd.cooldown) {\n            const key = this.getCooldownKey(msg, cmd);\n            this.cooldownManager.set(key);\n          }\n\n          return true;\n        } finally {\n          clearTimeout(timeout);\n          this.abortControllers.delete(commandId);\n        }\n      });\n    } catch (error: any) {\n\n      this.abortControllers.delete(commandId);\n      if (error.name === 'AbortError') {\n        UI.warn(`[${new Date().toLocaleTimeString()}] Command ${msg.command} was aborted: ${error.message}`);\n        await cmdControl(bot, msg, 'timeout');\n      } else {\n        UI.error(`[${new Date().toLocaleTimeString()}] Error executing command ${msg.command}: ${error.message}`);\n        await cmdControl(bot, msg, 'error', error);\n      }\n      return false;\n    }\n  }\n\n  getCooldownManager(): CooldownManager {\n    return this.cooldownManager;\n  }\n\n  private async checkConditions(cmd: CommandOptions, msg: Message, bot: any): Promise<boolean> {\n    const checks: Array<[boolean | undefined, string, any?]> = [\n      [cmd.disabled, 'disabled'],\n      [cmd.owner && !msg.isOwner, 'owner'],\n      [cmd.group && !msg.isGroup, 'group'],\n      [cmd.admin && !msg.isAdmin, 'admin'],\n      [cmd.private && msg.isGroup, 'private'],\n      [cmd.botAdmin && !msg.isBotAdmin, 'botAdmin'],\n    ];\n\n    for (const [failed, type, extra] of checks) {\n      if (failed) {\n        await cmdControl(bot, msg, type, extra);\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  private async checkCooldown(cmd: CommandOptions, msg: Message, bot: any): Promise<boolean> {\n    if (!cmd.cooldown) return true;\n\n    const key = this.getCooldownKey(msg, cmd);\n    const remaining = this.cooldownManager.getRemaining(key, cmd.cooldown);\n\n    if (remaining > 0) {\n      await cmdControl(bot, msg, 'cooldown', remaining);\n      return false;\n    }\n\n    return true;\n  }\n\n  private getCooldownKey(msg: Message, cmd: CommandOptions): string {\n    const cmdName = Array.isArray(cmd.command) ? cmd.command[0] : cmd.command || 'unknown';\n    return `${msg.sender}:${cmdName}`;\n  }\n\n  abortUserCommands(userId: string): void {\n    for (const [id, controller] of this.abortControllers) {\n      if (id.startsWith(userId)) {\n        controller.abort('user cancelled');\n      }\n    }\n  }\n\n  destroy(): void {\n    this.cooldownManager.destroy();\n    this.abortControllers.forEach(controller => controller.abort('system shutdown'));\n    this.abortControllers.clear();\n  }\n}\n\nclass CommandFileWatcher {\n  private watcher: FSWatcher | null = null;\n  private watchedPath: string = '';\n  private onFileChange: (path: string, event: 'add' | 'change' | 'unlink') => void;\n\n  constructor(onFileChange: (path: string, event: 'add' | 'change' | 'unlink') => void) {\n    this.onFileChange = onFileChange;\n  }\n\n  start(commandsPath: string): void {\n    this.stop();\n\n    const absolutePath = this.resolvePath(commandsPath);\n    this.watchedPath = absolutePath;\n\n    if (!existsSync(absolutePath)) {\n      UI.error(`[${new Date().toLocaleTimeString()}] Path does not exist: ${absolutePath}`);\n      return;\n    }\n\n    const watchConfig = this.getWatchConfig();\n\n    this.watcher = watch(absolutePath, {\n      ignored: [/(^|[\\/\\\\])\\../, /node_modules/, /\\.git/],\n      persistent: true,\n      ignoreInitial: true,\n      depth: 99,\n      ...watchConfig\n    });\n\n    this.setupWatcherEvents();\n  }\n\n  stop(): void {\n    if (this.watcher) {\n      this.watcher.close();\n      this.watcher = null;\n      UI.info(' Watcher stopped');\n    }\n  }\n\n  private resolvePath(givenPath: string): string {\n    if (isAbsolute(givenPath)) return givenPath;\n\n    const candidates = [\n      resolve(process.cwd(), givenPath),\n      resolve(__dirname, givenPath),\n      resolve(process.cwd(), 'node_modules', givenPath)\n    ];\n\n    for (const path of candidates) {\n      if (existsSync(path)) return path;\n    }\n\n    return resolve(process.cwd(), givenPath);\n  }\n\n  private getWatchConfig() {\n    const platform = process.platform;\n    const isAndroid = platform === 'android' || !!(process as any).env.TERMUX_VERSION;\n    const isWindows = platform === 'win32';\n\n    if (isAndroid || isWindows) {\n      return {\n        usePolling: true,\n        interval: isAndroid ? 1500 : 500,\n        binaryInterval: isAndroid ? 2000 : 1000\n      };\n    }\n\n    return { usePolling: false };\n  }\n\n  private setupWatcherEvents(): void {\n    if (!this.watcher) return;\n\n    this.watcher\n      .on('ready', () => UI.done('Watcher ready'))\n      .on('add', path => this.handleFileEvent(path, 'add'))\n      .on('change', path => this.handleFileEvent(path, 'change'))\n      .on('unlink', path => this.handleFileEvent(path, 'unlink'))\n      .on('error', (error: any) => UI.error(`[${new Date().toLocaleTimeString()}] Watcher error: ${error.message}`));\n  }\n\n  private handleFileEvent(path: string, event: 'add' | 'change' | 'unlink'): void {\n    if (!this.isCommandFile(path)) return;\n\n    const icons: Record<string, string> = { add: '', change: '', unlink: '' };\n    UI.info(`[${new Date().toLocaleTimeString()}] ${event.toUpperCase()}: ${this.getRelativePath(path)} ${icons[event]}`);\n\n    this.onFileChange(path, event);\n  }\n\n  private isCommandFile(filePath: string): boolean {\n    const ext = filePath.split('.').pop()?.toLowerCase();\n    return VALID_EXTENSIONS.includes(ext || '');\n  }\n\n  private getRelativePath(filePath: string): string {\n    try {\n      return relative(this.watchedPath, filePath);\n    } catch {\n      return filePath;\n    }\n  }\n}\n\n\nclass CommandLoader {\n  private require = createRequire(import.meta.url);\n\n  private readonly fsModule = import('fs/promises').then(m => m);\n  private readonly pathModule = import('path').then(m => m);\n\n  async loadFile(filePath: string): Promise<CommandModule | null> {\n    try {\n      const normalizedPath = resolve(filePath);\n      const isESM = await this.isESMFile(normalizedPath);\n\n      const exported = await this.importModule(normalizedPath, isESM);\n      return this.normalizeExports(exported, normalizedPath);\n    } catch (error: any) {\n      UI.error(`[${new Date().toLocaleTimeString()}] Failed to load ${filePath}: ${error.message}`);\n      return null;\n    }\n  }\n\n  private async importModule(filePath: string, isESM: boolean): Promise<any> {\n    if (isESM) {\n      const fileUrl = pathToFileURL(filePath).href;\n      const module = await import(`${fileUrl}?t=${Date.now()}`);\n      return module.default ?? module;\n    } else {\n      try {\n        const resolvedPath = this.require.resolve(filePath);\n        delete this.require.cache[resolvedPath];\n        return this.require(resolvedPath);\n      } catch {\n        const fileUrl = pathToFileURL(filePath).href;\n        const module = await import(`${fileUrl}?t=${Date.now()}`);\n        return module.default ?? module;\n      }\n    }\n  }\n\n  private async isESMFile(filePath: string): Promise<boolean> {\n    const ext = filePath.split('.').pop()?.toLowerCase();\n\n    if (ext === 'mjs') return true;\n    if (ext === 'cjs') return false;\n\n    if (ext === 'js' || ext === 'ts') {\n      return await this.checkPackageJSON(filePath);\n    }\n\n    return true;\n  }\n\n  private async checkPackageJSON(filePath: string): Promise<boolean> {\n    try {\n      const fs = await this.fsModule;\n      const path = await this.pathModule;\n\n      let dir = path.dirname(filePath);\n      const root = path.parse(dir).root;\n\n      while (dir !== root) {\n        const pkgPath = path.join(dir, 'package.json');\n        try {\n          const content = await fs.readFile(pkgPath, 'utf8');\n          const pkg = JSON.parse(content);\n          return pkg.type === 'module';\n        } catch {\n          dir = path.dirname(dir);\n        }\n      }\n    } catch {}\n\n    return true;\n  }\n\n  private normalizeExports(exported: any, filePath: string): CommandModule | null {\n    if (!exported) return null;\n\n    if (Array.isArray(exported)) {\n      return exported\n        .map(item => this.normalizeExports(item, filePath))\n        .filter(Boolean) as CommandOptions[];\n    }\n\n    if (typeof exported === 'function') {\n      return this.normalizeFunction(exported, filePath);\n    }\n\n    if (typeof exported === 'object') {\n      return this.normalizeObject(exported, filePath);\n    }\n\n    return null;\n  }\n\n  private normalizeFunction(fn: any, filePath: string): CommandModule {\n    if (fn.name === 'before' || fn.name === 'after' || fn.toString().includes('function before')) {\n      return Object.assign(fn, { __filePath: filePath });\n    }\n\n    const cmd: CommandOptions = { execute: fn };\n\n    ALL_PROPS.forEach((prop: any) => {\n      if (fn[prop] !== undefined) {\n        (cmd as any)[prop] = fn[prop];\n      }\n    });\n\n    Object.keys(fn).forEach(key => {\n      if (!ALL_PROPS.includes(key as any) && key !== 'execute') {\n        (cmd as any)[key] = fn[key];\n      }\n    });\n\n    return Object.assign(cmd, { __filePath: filePath });\n  }\n\n  private normalizeObject(obj: any, filePath: string): CommandModule | null {\n    if (obj.default) {\n      return this.normalizeExports(obj.default, filePath);\n    }\n\n    if (obj.execute && typeof obj.execute === 'function') {\n      return this.attachFilePath(obj, filePath);\n    }\n\n    const functionKeys = Object.keys(obj).filter((key: string) =>\n      typeof obj[key] === 'function' &&\n      !['constructor', 'toString', 'valueOf'].includes(key)\n    );\n\n    if (functionKeys.length === 1) {\n      const executeFn = obj[functionKeys[0]];\n      const cmd = { ...obj, execute: executeFn };\n      delete cmd[functionKeys[0]];\n      return this.attachFilePath(cmd, filePath);\n    }\n\n    return null;\n  }\n\n  private attachFilePath(obj: any, filePath: string): any {\n    obj.__filePath = filePath;\n    return obj;\n  }\n}\n\nexport class CommandSystem {\n  private registry: CommandRegistry;\n  private middleware: MiddlewareChain;\n  private executor: CommandExecutor;\n  private loader: CommandLoader;\n  private watcher: CommandFileWatcher;\n  private beforeHandlers: Handler[] = [];\n  private afterHandlers: Handler[] = [];\n  private bot: any;\n\n  constructor(bot?: any) {\n    this.bot = bot;\n    this.registry = new CommandRegistry();\n    this.middleware = new MiddlewareChain();\n    this.executor = new CommandExecutor();\n    this.loader = new CommandLoader();\n    this.watcher = new CommandFileWatcher(this.handleFileChange.bind(this));\n  }\n\n  setBot(bot: any): void {\n    this.bot = bot;\n  }\n\n  register(command: CommandOptions | Function): void {\n    let cmdObj: CommandOptions;\n\n    if (typeof command === 'function') {\n      cmdObj = { execute: command as any };\n      ALL_PROPS.forEach((prop: any) => {\n        if ((command as any)[prop] !== undefined) {\n          (cmdObj as any)[prop] = (command as any)[prop];\n        }\n      });\n    } else {\n      cmdObj = { ...command };\n    }\n\n    this.registry.register(cmdObj, (cmdObj as any).__filePath);\n  //  UI.info(`[${new Date().toLocaleTimeString()}] Command registered: ${this.getCommandNames(cmdObj)[0]}`);\n  }\n\n  unregister(commandName: string): boolean {\n    return this.registry.unregister(commandName);\n  }\n\n  before(handler: Handler): void {\n    this.beforeHandlers.push(handler);\n  }\n\n  after(handler: Handler): void {\n    this.afterHandlers.push(handler);\n  }\n\n  use(middleware: Middleware): void {\n    this.middleware.use(middleware);\n  }\n\n  findCommand(name: string): CommandOptions | undefined {\n    return this.registry.findByName(name);\n  }\n\n  getCommandsByCategory(category?: string): CommandOptions[] {\n    return category ? this.registry.findByCategory(category) : this.registry.getAll();\n  }\n\n  getAllCategories(): string[] {\n    return this.registry.getAllCategories();\n  }\n\n  getAll(): CommandOptions[] {\n    return this.registry.getAll();\n  }\n\n  async processMessage(msg: Message, ctx: any, config: any): Promise<boolean> {\n    if (!msg.body) return false;\n\n    const context: any = {\n      conn: ctx.sock,\n      text: msg.body,\n      args: [],\n      command: '',\n      prefix: '',\n      bot: ctx,\n      scrapy: ctx.scrapy\n    };\n\n    if (await this.runBeforeHandlers(msg, context)) {\n      return true;\n    }\n\n    // Fix: only loop over commands that actually have before hooks  O(hooks) not O(all commands)\n    for (const cmd of this.registry.getCommandsWithBeforeHooks()) {\n      try {\n        const result = await (cmd.before as any)(msg, context, this.bot);\n        if (result === true) return true;\n      } catch (error: any) {\n        UI.error(`Error in command before handler: ${error.message}`);\n      }\n    }\n\n    const text = msg.body.trim();\n    const prefixes = config || [\".\"];\n    const extracted = extractPrefix(text, prefixes);\n\n    if (extracted) {\n      const cmd = this.registry.findByName(extracted.command);\n      if (!cmd?.execute) return false;\n\n      const cmdContext: any = {\n        ...context,\n        text: extracted.args.join(' '),\n        args: extracted.args,\n        command: extracted.command,\n        prefix: extracted.prefix\n      };\n\n      let executed = false;\n\n      await this.middleware.run(msg, async () => {\n        executed = await this.executor.execute(cmd, msg, cmdContext, this.bot);\n      });\n\n      if (executed) {\n        if (cmd.after) {\n          try { await (cmd.after as any)(msg, cmdContext, this.bot); }\n          catch (error: any) { UI.error(`Error in command after handler: ${error.message}`); }\n        }\n\n        await this.runAfterHandlers(msg, extracted, cmdContext);\n      }\n\n      return executed;\n    }\n\n    const args = text.split(/\\s+/);\n    const cmdName = args[0]?.toLowerCase() || '';\n\n    for (const cmd of this.registry.getAll()) {\n      if (cmd.usePrefix === false && cmd.execute) {\n        if (this.getCommandNames(cmd).includes(cmdName)) {\n          const cmdContext: any = {\n            ...context,\n            text: args.slice(1).join(' '),\n            args: args.slice(1),\n            command: cmdName,\n            prefix: ''\n          };\n\n          return await this.executor.execute(cmd, msg, cmdContext, this.bot);\n        }\n      }\n    }\n\n    return false;\n  }\n\n  private async runBeforeHandlers(msg: Message, context: any): Promise<boolean> {\n    for (const handler of this.beforeHandlers) {\n      try {\n        const result = await handler(msg, context, this.bot);\n        if (result === true) return true;\n      } catch (error: any) {\n        UI.error(`Error in before handler: ${error.message}`);\n      }\n    }\n    return false;\n  }\n\n  private async runAfterHandlers(msg: Message, extracted: any, context: any): Promise<void> {\n    for (const handler of this.afterHandlers) {\n      try {\n        await handler(msg, { command: extracted.command, args: extracted.args, cmdContext: context }, this.bot);\n      } catch (error: any) {\n        UI.error(`Error in after handler: ${error.message}`);\n      }\n    }\n  }\n\n  private getCommandNames(cmd: CommandOptions): string[] {\n    const names: string[] = [];\n    if (cmd.command) {\n      const cmdNames = Array.isArray(cmd.command) ? cmd.command : [cmd.command];\n      names.push(...cmdNames);\n    }\n    if (cmd.name) names.push(cmd.name);\n    if (cmd.aliases) names.push(...cmd.aliases);\n    return names.map(n => n.toLowerCase());\n  }\n\n  async loadFile(filePath: string): Promise<void> {\n    const normalizedPath = resolve(filePath);\n    const commands = await this.loader.loadFile(normalizedPath);\n\n    if (!commands) return;\n\n    const cmdArray = Array.isArray(commands) ? commands : [commands];\n\n    for (const cmd of cmdArray) {\n      if (typeof cmd === 'function') {\n        (cmd as any).__filePath = normalizedPath;\n        this.before(cmd as Handler);\n      } else if (cmd && (cmd as CommandOptions).execute) {\n        (cmd as any).__filePath = normalizedPath;\n        this.register(cmd as CommandOptions);\n      }\n    }\n  }\n\n  async loadDirectory(commandsPath: string): Promise<void> {\n    const absolutePath = this.resolvePath(commandsPath);\n\n    const scanDir = async (dir: string): Promise<void> => {\n      try {\n        const items = await readdir(dir, { withFileTypes: true });\n\n        for (const item of items) {\n          const fullPath = join(dir, item.name);\n\n          if (item.isDirectory()) {\n            await scanDir(fullPath);\n          } else if (item.isFile()) {\n            const ext = item.name.split('.').pop()?.toLowerCase();\n            if (ext && VALID_EXTENSIONS.includes(ext)) {\n              await this.loadFile(fullPath);\n            }\n          }\n        }\n      } catch (error: any) {\n        UI.error(`Failed to scan ${dir}: ${error.message}`);\n      }\n    };\n\n    await scanDir(absolutePath);\n  }\n\n  startWatching(commandsPath: string): void {\n    this.watcher.start(commandsPath);\n  }\n\n  stopWatcher(): void {\n    this.watcher.stop();\n  }\n\n  private async handleFileChange(filePath: string, event: 'add' | 'change' | 'unlink'): Promise<void> {\n    switch (event) {\n      case 'add':\n      case 'change':\n        await new Promise(resolve => setTimeout(resolve, 500));\n        await this.reloadFile(filePath);\n        break;\n      case 'unlink':\n        this.unloadFile(filePath);\n        break;\n    }\n  }\n\n  private async reloadFile(filePath: string): Promise<void> {\n    this.unloadFile(filePath);\n    await this.loadFile(filePath);\n  }\n\n  private unloadFile(filePath: string): void {\n    const normalizedPath = resolve(filePath);\n    this.registry.unregisterByFile(normalizedPath);\n\n    this.beforeHandlers = this.beforeHandlers.filter(handler => {\n      const handlerPath = (handler as any).__filePath;\n      return !handlerPath || resolve(handlerPath) !== normalizedPath;\n    });\n  }\n\n  private resolvePath(givenPath: string): string {\n    if (isAbsolute(givenPath)) return givenPath;\n\n    const candidates = [\n      resolve(process.cwd(), givenPath),\n      resolve(__dirname, givenPath)\n    ];\n\n    for (const path of candidates) {\n      if (existsSync(path)) return path;\n    }\n\n    return resolve(process.cwd(), givenPath);\n  }\n\n  // Fix: implemented properly  clears all cooldowns or for a specific user\n  clearCooldowns(userId?: string): void {\n    const cm = this.executor.getCooldownManager();\n    cm.clear(userId);\n  }\n\n  getStats() {\n    return {\n      ...this.registry.getStats(),\n      middlewares: this.middleware.length,\n      beforeHandlers: this.beforeHandlers.length,\n      afterHandlers: this.afterHandlers.length\n    };\n  }\n\n  abortUserCommands(userId: string): void {\n    this.executor.abortUserCommands(userId);\n  }\n\n  destroy(): void {\n    this.stopWatcher();\n    this.executor.destroy();\n    this.middleware.clear();\n    this.beforeHandlers = [];\n    this.afterHandlers = [];\n  }\n}\n\nexport async function loadCommandsFromPath(\n  commandsPath: string,\n  commandSystem?: CommandSystem\n): Promise<CommandOptions[]> {\n  if (!commandSystem) return [];\n\n  await commandSystem.loadDirectory(commandsPath);\n  commandSystem.startWatching(commandsPath);\n\n  return commandSystem.getAll();\n}\n\nexport function getCommandContext() {\n  return commandStorage.getStore();\n}\n","import { z } from 'zod';\nimport {\n  AnyMessageContent,\n} from \"@whiskeysockets/baileys\";\n\nexport const OwnerSchema = z.object({\n  lid: z.string(),\n  jid: z.string(),\n  name: z.string().optional()\n}).strict();\n\nexport type Owner = z.infer<typeof OwnerSchema>;\n\nexport const BotConfigSchema = z.object({\n  phoneNumber: z.string().regex(/^(\\+?\\d+|0\\d+)$/, 'Invalid phone number format'),\n  namebot: z.string().optional(),\n  fromMe: z.boolean().nullable().default(null),\n  sessionPath: z.string().default('./session'),\n  autoReconnect: z.boolean().default(true),\n  reconnectDelay: z.number().min(1000).default(3000),\n  maxReconnectAttempts: z.number().min(1).default(10),\n  showLogs: z.boolean().default(false),\n  printQR: z.boolean().default(false),\n  markOnline: z.boolean().default(false),\n  browser: z.string().default(['Chrome', 'Firefox', 'Safari', 'Edge'][Math.floor(Math.random() * 4)]),\n  syncHistory: z.boolean().default(false),\n  autoRead: z.boolean().default(false),\n  linkPreview: z.boolean().default(true),\n  owners: z.array(OwnerSchema).default([]),\n  commandsPath: z.string().default('./plugins'),\n  prefix: z.union([z.string(), z.array(z.string())]).default('!'),\n  onConnected: z.function().optional(),\n  onDisconnected: z.function().optional(),\n  onError: z.custom<(error: Error) => void>()\n  .optional(),\n}).strict();\n\nexport type BotConfig = z.infer<typeof BotConfigSchema>;\n\nexport const MessageSchema = z.object({\n  id: z.string().optional(),\n  body: z.string(),\n  text: z.string(),\n  from: z.string(),\n  name: z.string().optional(),\n  pushName: z.string().optional(),\n  timestamp: z.date(),\n  isGroup: z.boolean(),\n  isOwner: z.boolean(),\n  isAdmin: z.boolean(),\n  isBotAdmin: z.boolean(),\n  fromMe: z.boolean(),\n  key: z.any().optional(),\n  message: z.any().optional(),\n  raw: z.any(),\n  args: z.array(z.string()).optional(),\n  command: z.string().optional(),\n  prefix: z.string().optional(),\n  sender: z.string(),\n  chat: z.string(),\n  reply: z.custom<(text: string, options?: Partial<AnyMessageContent>) => Promise<any>>(),\n  react: z.custom<(emoji: string) => Promise<any>>(),\n  lid2jid: z.custom<(i: string, id: string) => Promise<any>>().optional(),\n  jid2lid: z.custom<(i: string, id: string) => Promise<any>>().optional(),\n  delete: z.custom<() => Promise<any>>(),\n  download: z.custom<() => Promise<Buffer | null>>(),\n  forward: z.custom<(jid: string, options?: Partial<AnyMessageContent>) => Promise<any>>(),\n  typing: z.custom<(duration?: number) => Promise<void>>(),\n  recording: z.custom<(duration?: number) => Promise<void>>()\n}).strict();\n\nexport type Message = z.infer<typeof MessageSchema>;\n\nexport const GroupEventSchema = z.object({\n  id: z.string(),\n  chat: z.string(),\n  userUrl: z.string().optional(),\n  participants: z.array(z.string()),\n  action: z.enum(['add', 'remove', 'promote', 'demote']),\n  author: z.string().optional(),\n  authorUrl: z.string().optional(),\n  timestamp: z.date()\n}).strict();\n\nexport type GroupEvent = z.infer<typeof GroupEventSchema>;\n\n\nexport const CommandContextSchema = z.object({\n  conn: z.any(),\n  text: z.string(),\n  args: z.array(z.string()),\n  command: z.string(),\n  prefix: z.string(),\n  bot: z.any()\n}).strict();\n\nexport type CommandContext = z.infer<typeof CommandContextSchema>;\n\ntype Handler = (message: Message, context: CommandContext, bot: any) => Promise<any>;\n\nexport const CommandOptionsSchema = z.object({\n  name: z.string().optional(),\n  command: z.union([z.string(), z.array(z.string())]).optional(),\n  aliases: z.array(z.string()).optional(),\n  description: z.string().optional(),\n  category: z.string().optional(),\n  usage: z.string().optional(),\n  cooldown: z.number().optional(),\n  ownerOnly: z.boolean().optional(),\n  groupOnly: z.boolean().optional(),\n  privateOnly: z.boolean().optional(),\n  botAdmin: z.boolean().optional(),\n  disabled: z.boolean().optional(),\n  usePrefix: z.boolean().optional(),\n  before: z.custom<Handler>().optional(),\n  after: z.custom<Handler>().optional(),\n  execute: z.custom<(message: Message, context: CommandContext, bot: any) => Promise<any>>().optional()\n}).strict().catchall(z.any()); \n\nexport type CommandOptions = z.infer<typeof CommandOptionsSchema>;\n\nexport interface MessageHandler {\n  (msg: Message): Promise<string | null | void | any>;\n}\n\nexport interface AccessHandler {\n  (msg: Message, checkType: string, ...args: any[]): any;\n}\n\nexport interface GroupEventHandler {\n  (ctx: any, event: GroupEvent, eventType: string): any;\n}","import { DisconnectReason } from \"@whiskeysockets/baileys\";\nimport { Boom } from \"@hapi/boom\";\nimport qrTerminal from \"qrcode-terminal\";\nimport { color, UI } from \"../utils/index.js\";\n\nconst connection_event = async (ctx: any, isNewSession: boolean) => {\n  try {\n\n    ctx.sock.ev.on('connection.update', (update: any) => {\n      const { connection, lastDisconnect, qr } = update;\n      const { config } = ctx;\n      const { showLogs, printQR, autoReconnect, maxReconnectAttempts, reconnectDelay, onConnected, onDisconnected, namebot } = config;\n\n      if (qr && printQR && showLogs) {\n        UI.line();\n        UI.done('Scan QR code to login ');\n        qrTerminal.generate(qr, { small: true });\n        UI.line();\n      }\n\n      if (connection === 'close') {\n        ctx.reconnectTimeout && clearTimeout(ctx.reconnectTimeout);\n        \n        const error = lastDisconnect?.error as Boom;\n        const statusCode = error?.output?.statusCode;\n\n        switch (statusCode) {\n          case DisconnectReason.loggedOut:\n            showLogs && UI.error(' Session logged out. Please re-pair the device.');\n            ctx.isRunning = false;\n            onDisconnected?.();\n            return;\n\n          case DisconnectReason.connectionClosed:\n            showLogs && UI.warn(' Connection closed unexpectedly');\n            break;\n            \n          case DisconnectReason.connectionLost:\n            showLogs && UI.warn(' Connection lost');\n            break;\n            \n          case DisconnectReason.connectionReplaced:\n            showLogs && UI.warn(' Connection replaced by another session');\n            ctx.isRunning = false;\n            onDisconnected?.();\n            return;\n            \n          case DisconnectReason.multideviceMismatch:\n            showLogs && UI.error(' Multi-device mismatch. Please re-pair.');\n            ctx.isRunning = false;\n            onDisconnected?.();\n            return;\n            \n          case DisconnectReason.forbidden:\n            showLogs && UI.error(' Forbidden access');\n            ctx.isRunning = false;\n            onDisconnected?.();\n            return;\n            \n          case DisconnectReason.unavailableService:\n            showLogs && UI.error(' Service unavailable');\n            break;\n            \n          case DisconnectReason.badSession:\n            showLogs && UI.error(' Bad session');\n            ctx.isRunning = false;\n            onDisconnected?.();\n            return;\n            \n          case DisconnectReason.restartRequired:\n            showLogs && UI.info(' Restart required');\n            ctx.restart(true);\n            return;\n            \n          default:\n            if (error?.message?.includes('timed out') || error?.message?.includes('timeout')) {\n              showLogs && UI.warn(' Connection timed out');\n            } else {\n              showLogs && UI.error(` Unknown disconnect reason: ${statusCode}`);\n            }\n        }\n\n        if (autoReconnect && ctx.reconnectAttempts < maxReconnectAttempts) {\n          ctx.reconnectAttempts++;\n          showLogs && UI.loading(`Reconnecting... (${ctx.reconnectAttempts} ~ ${maxReconnectAttempts})`);\n          \n          ctx.reconnectTimeout && clearTimeout(ctx.reconnectTimeout);\n          ctx.reconnectTimeout = setTimeout(() => {\n            ctx.isRunning = false;\n            ctx.restart(true);\n          }, reconnectDelay);\n        } else {\n          ctx.isRunning = false;\n          onDisconnected?.();\n        }\n      }\n\n      if (connection === 'open') {\n        ctx.reconnectAttempts = 0;\n        ctx.reconnectTimeout && clearTimeout(ctx.reconnectTimeout);\n        onConnected?.();\n        \n        if (showLogs) {\n          UI.clear();\n          UI.random(`${namebot || \"WhatsApp Bot\"} started successfully`);\n          console.log(`      ______ ______\n    _/      Y      \\_\n   // ~~ ~~ | ~~ ~  \\\\\n  // ~ ~ ~~ | ~~~ ~~ \\\\      Original ${namebot || \"WhatsApp Bot\"}\n //________.|.________\\\\     Created by: ${color(\"@veni_xov\", \"yellow\")}\n\\`----------\\`-'----------'`)\n          UI.line()\n          UI.info('Bot Engine    : Vii7/whatsapp')\n          UI.info('Backend       : Node.js & Type Script')\n          UI.info(`Runtime       : ${process.version}`);\n          UI.info(`Platform      : ${process.platform}`);\n          UI.line()\n        }\n      }\n    });\n  } catch (error: any) {\n    if (!ctx.config.onError) console.error(error.message)\n    typeof ctx.config?.onError === 'function' && ctx.config.onError(error);\n  }\n};\n\nexport default connection_event;","import { GroupEvent } from \"../types/types.js\";\n\nconst group_event = (OOP: any) => {\n  OOP.sock.ev.on('group-participants.update', async (data: any) => {\n    \n    try {\n      const metadata: any = await OOP.sock.groupMetadata(data.id);\n      \n      const authorJid = data.author;\n      const authorParticipant = metadata.participants.find((x: any) => x.id === authorJid);\n      const authorPhoneNumber = authorParticipant?.phoneNumber || authorJid;\n      \n      let ppAuthor = \"https://files.catbox.moe/hm9iq4.jpg\"; \n      try {\n        if (authorJid) {\n          ppAuthor = await OOP.sock.profilePictureUrl(authorJid, 'image') || ppAuthor;\n        }\n      } catch (e: any) {\n        console.log(e.message);\n      }\n      \n      let ppUser = \"https://files.catbox.moe/hm9iq4.jpg\"; \n      try {\n        if (data.participants && data.participants.length > 0) {\n          const participantJid = data.participants[0].id;\n          ppUser = await OOP.sock.profilePictureUrl(participantJid, 'image') || ppUser;\n        }\n      } catch (e: any) {\n        console.log(e.message);\n      }\n      \n      const event: GroupEvent = {\n        id: data.id,\n        chat: data.id,\n        userUrl: ppUser,\n        participants: data.participants,\n        action: data.action,\n        author: authorPhoneNumber,\n        authorUrl: ppAuthor,\n        timestamp: new Date()\n      };\n      \n      await OOP.groupControl(event, data.action);\n      \n    } catch (error: any) {\n      console.error(\"error\", error.message);\n      if (OOP.config.onError && typeof OOP.config.onError === 'function') {\n        OOP.config.onError(error);\n      }\n    }\n  });\n};\n\nexport default group_event;","import {\n  proto,\n  WAMessage\n} from \"@whiskeysockets/baileys\";\nimport { Message } from \"../types/types\";\nimport { msgObj } from \"../enhancers/index.js\";\nimport { print } from \"../utils/index.js\";\n\ntype MessagesUpsertEvent = {\n  messages: proto.IWebMessageInfo[];\n  type: string;\n};\n\nconst message_event = (OOP: any) => {\n  OOP.sock.ev.on('messages.upsert', async ({ messages, type }: MessagesUpsertEvent) => {\n    if (type !== 'notify' || !OOP.sock) return;\n    \n    print(messages, OOP);\n    \n    for (const msg of messages) {\n      if (!msg.message) continue;\n      \n      if (msg.message?.protocolMessage || \n          msg.message?.senderKeyDistributionMessage ||\n          msg.message?.stickerSyncRmrMessage) {\n        continue;\n      }\n      \n      if (OOP.config.autoRead) await OOP.sock.readMessages([msg.key]);\n\n      try {\n        const messageObj = await msgObj(msg as WAMessage, OOP.sock, OOP.config.owners);\n        if (!messageObj) continue;\n\n        if (OOP.config.fromMe === true && !messageObj.fromMe) continue;\n        if (OOP.config.fromMe === false && messageObj.fromMe) continue;\n\n        const processed = await OOP.commandSystem.processMessage(messageObj, OOP, OOP.config.prefix);\n\n        if (!processed) {\n          for (const handler of OOP.handlers) {\n            try {\n              const response = await handler(messageObj);\n              if (response) {\n                if (typeof response === 'string') {\n                  await messageObj.reply(response);\n                } else if (typeof response === 'object') {\n                  await messageObj.reply(response.text || '', response);\n                }\n                break;\n              }\n            } catch (error) {\n              if (OOP.config.onError && typeof OOP.config.onError === 'function') OOP.config.onError(error);\n            }\n          }\n        }\n      } catch (error) {\n        if (OOP.config.onError && typeof OOP.config.onError === 'function') OOP.config.onError(error);\n      }\n    }\n  });\n};\n\nexport default message_event;","import {\n  makeWASocket,\n  useMultiFileAuthState,\n  fetchLatestBaileysVersion,\n  Browsers,\n  WASocket,\n} from \"@whiskeysockets/baileys\";\nimport pino from 'pino';\nimport { sockMyFun, CommandSystem } from \"./enhancers/index.js\";\nimport { Owner, BotConfig, Message, GroupEvent, BotConfigSchema, MessageHandler, AccessHandler, GroupEventHandler } from \"./types/types.js\";\nimport connection_event from \"./events/connection.events.js\";\nimport group_event from \"./events/group.event.js\";\nimport message_event from \"./events/message.event.js\";\nimport { scrapy, color, UI, loadCommands } from \"./utils/index.js\"; \nimport { cmdControl, groupControl } from \"./control/index.js\";\n\nexport class WhatsAppBot {\n  public sock: WASocket | null = null;\n  private sockBaileys: WASocket | null = null;\n  public scrapy = scrapy;\n  public config: BotConfig;\n  public commandSystem: CommandSystem;\n  \n  private handlers: MessageHandler[] = [];\n  private userAccessHandler: AccessHandler | null = null;\n  private userGroupEventHandler: GroupEventHandler | null = null;\n  private reconnectTimeout: NodeJS.Timeout | null = null;\n  private reconnectAttempts = 0;\n  private isRunning = false;\n  private maxReconnectAttempts = 5;\n  private credsSaver: (() => Promise<void>) | null = null;\n  private eventHandlers: {\n    credsUpdate?: () => Promise<void>;\n    connection?: () => void;\n    group?: () => void;\n    message?: () => void;\n  } = {};\n\n  constructor(config: BotConfig) {\n    this.config = BotConfigSchema.parse(config);\n    this.commandSystem = new CommandSystem(this);\n    this.setupExit();\n  }\n\n  private setupExit(): void {\n    const exit = async (signal: string) => {\n      \n      if ((this.sock?.ws as any)?.readyState === 1) {\n        (this.sock as any).KeysMessageWA()\n      }\n      \n      await this.cleanup();\n      process.exit(0);\n    };\n    \n    process.on('SIGINT', () => exit('SIGINT'));\n    process.on('SIGTERM', () => exit('SIGTERM'));\n  }\n\n  public onCommandAccess(handler: AccessHandler): void {\n    this.userAccessHandler = handler;\n  }\n\n  public onGroupEvent(handler: GroupEventHandler): void {\n    this.userGroupEventHandler = handler;\n  }\n\n  public onMessage(handler: MessageHandler): void {\n    this.handlers.push(handler);\n  }\n\n  public onBeforeCommand(handler: (msg: Message) => Promise<boolean | void>): void {\n    this.commandSystem.before(handler);\n  }\n\n  public onAfterCommand(handler: (msg: Message, data: any) => Promise<void>): void {\n    this.commandSystem.after(handler);\n  }\n\n  public async cmdControl(msg: Message, checkType: string, ...args: any[]): Promise<void> {\n    await cmdControl(this, msg, checkType, ...args);\n  }\n\n  private async groupControl(event: GroupEvent, eventType: string): Promise<void> {\n    await groupControl(this, event, eventType);\n  }\n\n  async start(force: boolean = false): Promise<void> {\n    if (this.isRunning && !force) {\n      UI.warn('Bot is already running');\n      return;\n    }\n    \n    if (force && this.isRunning) {\n      await this.cleanup();\n      this.isRunning = false;\n      await new Promise(resolve => setTimeout(resolve, 2000));\n    }\n    \n    try {\n      await loadCommands(this);\n\n      const { version } = await fetchLatestBaileysVersion();\n      const { state, saveCreds } = await useMultiFileAuthState(this.config.sessionPath);\n      this.credsSaver = saveCreds;\n      \n      const isNewSession = !state.creds.registered;\n      \n      if (isNewSession && !this.config.printQR && this.config.showLogs && this.config.phoneNumber) {\n        UI.done('New session - Waiting for pairing...');\n        UI.info(`Phone number: ${this.config.phoneNumber}`);\n        \n        setTimeout(async () => {\n          try {\n            if (this.sock) {\n              const code = await this.sock.requestPairingCode(this.config.phoneNumber!, Buffer.from(\"56454e4931323334\", 'hex').toString());\n              console.log(` Pairing Code ${color(code, \"yellow\")}`);\n              UI.line();\n            }\n          } catch (error: any) {\n            UI.error(`Pairing error: ${error.message}`);\n          }\n        }, 2000);\n      }\n\n      this.sockBaileys = makeWASocket({\n        version,\n        auth: state,\n        logger: pino({ level: 'silent' }),\n        browser: Browsers.ubuntu(this.config.browser),\n        printQRInTerminal: isNewSession && this.config.printQR,\n        markOnlineOnConnect: this.config.markOnline,\n        syncFullHistory: this.config.syncHistory,\n        generateHighQualityLinkPreview: this.config.linkPreview\n      });\n\n      if (this.sockBaileys) {\n        this.sock = await sockMyFun(this.sockBaileys);\n        this.setupEvents(saveCreds, isNewSession);\n      }\n\n      this.isRunning = true;\n      this.reconnectAttempts = 0;\n    } catch (error: any) {\n      UI.error(`Failed to start bot: ${error instanceof Error ? error.message : 'Unknown error'}`);\n      \n      if (this.config.onError && typeof this.config.onError === 'function') {\n        this.config.onError(error);\n      }\n      \n      if (this.config.autoReconnect && this.reconnectAttempts < this.maxReconnectAttempts) {\n        this.scheduleReconnect();\n      }\n    }\n  }\n\n  private setupEvents(saveCreds: () => Promise<void>, isNewSession: boolean): void {\n    if (!this.sock) return;\n    \n    this.eventHandlers = {\n      credsUpdate: saveCreds,\n      connection: () => connection_event(this, isNewSession),\n      group: () => group_event(this),\n      message: () => message_event(this)\n    };\n    \n    this.sock.ev.on('creds.update', saveCreds);\n    connection_event(this, isNewSession);\n    group_event(this);\n    message_event(this);\n  }\n\n  private scheduleReconnect(): void {\n    if (this.reconnectTimeout) {\n      clearTimeout(this.reconnectTimeout);\n    }\n    \n    this.reconnectAttempts++;\n    const delay = this.config.reconnectDelay * this.reconnectAttempts;\n    \n    UI.info(`Scheduling reconnect attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts} in ${delay}ms`);\n    \n    this.reconnectTimeout = setTimeout(() => this.restart(true), delay);\n  }\n\n  public async restart(force: boolean = true): Promise<void> {\n    try {\n      UI.warn('Attempting to restart bot...');\n      \n      if (force) {\n        this.isRunning = false;\n      }\n      \n      await this.cleanup();\n      await new Promise(resolve => setTimeout(resolve, 2000));\n      await this.start(true);\n    } catch (error: any) {\n      UI.error(`Restart failed: ${error.message}`);\n      if (this.reconnectAttempts < this.maxReconnectAttempts) {\n        this.scheduleReconnect();\n      }\n    }\n  }\n\n  async stop(): Promise<void> {\n    UI.info('Stopping bot...');\n    await this.cleanup();\n  }\n  \n  public cleanup = async (): Promise<void> => {\n    try {\n      if (this.reconnectTimeout) {\n        clearTimeout(this.reconnectTimeout);\n        this.reconnectTimeout = null;\n      }\n      \n      if (this.sock && this.eventHandlers) {\n        if (this.eventHandlers.credsUpdate) {\n          this.sock.ev.off('creds.update', this.eventHandlers.credsUpdate);\n        }\n        if (this.sock.ev) {\n          this.sock.ev.removeAllListeners('connection.update');\n          this.sock.ev.removeAllListeners('groups.update');\n          this.sock.ev.removeAllListeners('messages.upsert');\n        }\n        this.sock.ws?.close();\n        this.sock = null;\n        this.sockBaileys = null;\n      }\n      \n      this.isRunning = false;\n      \n      if (this.config.showLogs) {\n        UI.done('Cleanup completed');\n      }\n    } catch (error) {\n      UI.error(`Cleanup error: ${error}`);\n    }\n  };\n\n  public registerCommand(command: any): void {\n    this.commandSystem.register(command);\n  }\n\n  public unregisterCommand(commandName: string): boolean {\n    return this.commandSystem.unregister(commandName);\n  }\n\n  public getCommand(commandName: string): any {\n    return this.commandSystem.findCommand(commandName);\n  }\n\n  public getAllCommands(): any[] {\n    return this.commandSystem.getAll();\n  }\n\n  public useMiddleware(middleware: any): void {\n    this.commandSystem.use(middleware);\n  }\n\n  public clearCooldowns(): void {\n    this.commandSystem.clearCooldowns();\n  }\n\n  public getOwners(): Owner[] {\n    return this.config.owners;\n  }\n\n  public isConnected(): boolean {\n    return this.isRunning && this.sock !== null && this.sock.user !== undefined;\n  }\n}\n\nexport const createWhatsAppBot = (config: BotConfig): WhatsAppBot => new WhatsAppBot(config);"]}